\setchapterpreamble[u]{\margintoc}
\chapter{Overview of the case studies}~\label{chapter-case-studies-overview}

This chapter introduces each of the app-centric and tool-centric case studies using a consistent structure to make them easy to comprehend and to facilitate comparison. The depth of each section varies to focus on material that's of consequence to the thesis. 

The case studies are in three groups, with a couple of interim sections that present complementary research that helps to fill various gaps. These three groups are: 
\begin{enumerate}
    \itemsep0em
    \item[1] App-centric case studies that \textbf{do not} have interventions (Sections \ref{case-study-overview-gtaf}, to \ref{case-study-overview-smartnavi}).
    \item[2] App-centric case studies that \textbf{do} have interventions (Sections \ref{case-study-overview-kiwix} to \ref{case-study-overview-C1}).
    \item[ ] Interim work on various field experiments (Section \ref{section-field-experiments-to-augment-app-centric-case-studies}) and source code analysis (Section \ref{section-sourcecode-analysis-to-augment-app-centric-case-studies}).
    \item[3] Tool-centric case studies (Sections \ref{case-study-overview-crashlytics} to \ref{case-study-overview-sentry}).
    \item[ ] Section \ref{section-case-study-misc-contributions} briefly introduces six more mobile analytics tools and another Android app as these provide miscellaneous minor contributions in the subsequent three chapters.
\end{enumerate}

The app-centric case studies are presented in the same order as Table~\ref{tab:app-centric-studies-research-perspective} for the app-centric cases and then Table~\ref{tab:tool-centric-studies-research-perspective} for the tool-centric cases. 

The structure used to present each app-centric case study covers the following topics:
\begin{itemize}
    \itemsep0em
    \item \textbf{Organisation overview:} including an overview of the development team and practices.
    \item \textbf{Engagement:} my involvement and the timescales.
    \item \textbf{Data/methods:} a summary of the data collected and methods used for the data collection based on Table~\ref{tab:mapping-datasources-to-six-perspectives}, including any intervention.
    \item \textbf{Contributions to the research} and where they are located in the rest of this dissertation.
\end{itemize}
A similar structure is used for each of the tool-centric case studies.\todo{Hmmm, I may want to revisit this claim once I revise those sections.} 
\clearpage



%===================================================================

\section{App-centric: GTAF}~\label{case-study-overview-gtaf}
% A couple of sentences to introduce them
\Acrfull{gtaf}\index{GTAF} is a UK-based charity that provides Islamic apps free of charge and without in-app advertising. The project started in 2016 with the aim of enabling people to learn the Quran in the local language -- Bangla -- in Bangladesh. The project was started by a self-taught Android developer and his cousin Yemin, at the time an undergraduate student in computer science, who is now employed by the project in a hybrid role of software developer and project manager. Table \ref{tab:gtaf_anaytics_overview} summarises the key facts for this case study.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{11cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://gtaf.org/} \\
       Google Play Home & \url{https://play.google.com/store/apps/dev?id=7665838187257770408} \\
       Founded & 2016 \\
       Business Domain & Not-for-profit.  \\
       Business type & Educational foundation. \\
       Technologies  & Android apps\footnotemark \\
       & React Native \\
       Source code  & Closed and not available for research \\
       Analytics used by team & Firebase, OneSignal, Google Crashlytics, Google Play Console \\
       Development Practices & Small hybrid development team \\
       \midrule
       User base & 1,000,000'+ for their 10 Android apps \\
       Installations & 1,000,000's for their 10 Android apps \\
       \midrule
       Source of case study &Via a fellow PhD researcher who was a software developer on the project. \\
       Catalyst for the case study &Excessively high crash rates for several of their apps piqued their interest in the research. \\
       \midrule
       Research methods &Online interview and email discussions, etc. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable? \\
       Additional data collected &Direct access to Google Play Console with Android Vitals, and to the public, issue database. Interview notes and emails. \\
       Active period & June 2020 to September 2020 \\
       \midrule
       \emph{Post-hoc} analysis &Included ongoing access to their Google Play Console for 18 months. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: \acrshort{gtaf}}
    \label{tab:gtaf_anaytics_overview}
\end{table*}
}

\footnotetext{The project have subsequently released several of their apps on other platforms, see \url{https://gtaf.org/apps}.}

% \subsection{GTAF: development microcosm} 
The project team hosts their development artefacts on gitlab.com, and they maintain their issues in a publicly-available online database at \url{https://gitlab.com/greentech/}; the source code is private. There is a mix of paid developers (through donations to the charity) and volunteers (often part-time). The developers of some of the less-active apps appear relatively autonomous, which includes their choice and any use of mobile analytics. 

Three of the apps (effectively four, because one app is released as two distinct binaries) were in ongoing active development (\href{https://play.google.com/store/apps/details?id=com.greentech.quran}{Al Quran},~\href{https://play.google.com/store/apps/details?id=com.greentech.hadith}{Hadith Collection}, and~\href{https://play.google.com/store/apps/details?id=com.greentech.hisnulmuslim}{Dua \& Zikr}, which is also released separately in Bangla~\href{https://play.google.com/store/apps/details?id=com.greentech.hisnulmuslimbn}{{Dua and Zikr (Hisnul Muslim)}}~\emph{in Bengali}); and they planned to revamp two more of the apps (\href{https://play.google.com/store/apps/details?id=com.greentech.islamicquiz}{(Islamic Quiz)} and~\href{https://play.google.com/store/apps/details?id=com.greentech.salatbn}{Meaningful prayers (salat)}~\textit{in Bengali}. %, which was called salat in our interview).

The team occasionally used Firebase TestLab~\footnote{\url{https://firebase.google.com/docs/test-lab}} to test some of the apps, and autonomous `Robo testing'~\footnote{\url{https://firebase.google.com/docs/test-lab/android/robo-ux-test}}, performed automatically by the test lab, triggered various crashes in the apps being tested. One such example was where an app was missing a `resource'. The team fixed the build by adding the missing resource but did not explicitly retest the app afterward in Firebase.  

\textbf{Data sources:} the data sources obtained in this case study are illustrated in Table~\ref{tab:gtaf-data-sources}.

\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.4cm}p{2.4cm}r>{\raggedright}p{2.4cm}>{\raggedright}p{3cm}>{\raggedright\arraybackslash}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method &Contribution & Remarks \\
        \toprule
         Pre-study interview, with core developer & contemporaneous notes\footnotemark & 1 & Ask the app devs & Set scope \& direction & Online call \\
         Analytics tools \& artefacts &Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Beacon finding, drill down, across case comparisons, observation \& analysis. & Indications of the development team's attention to the crash rate, insights into the performance of their apps, corroboration of findings across various case studies. & Google Play Console with Android Vitals. \\         
         Mid-study communications with developers & GMail & 10\textsuperscript{1} & Ask the app devs & Feedback, and sense-making.  & Email conversations. \\
         Development artefacts  & Issues database & 10\textsuperscript{2} & Observation and Analysis, analysis of development artefacts. & Corroboration of what the development team say they do in terms of using mobile analytics. & Public GitLab repo. \\
         \bottomrule
    \end{tabular}
    \caption{GTAF: data sources}
    \label{tab:gtaf-data-sources}
\end{table*}


\subsection{GTAF: Contributions to the research}
TBC\todo{Add forward links when the relevant material has been included.}.


%\clearpage

%===================================================================

\section{App-centric: Local Halo}~\label{case-study-overview-localhalo}
LocalHalo\index{LocalHalo} was a startup based in London who made a social network for neighbours~\footnote{\url{https://ain.ua/en/2019/10/18/localhalo-raises-500k/}} with developers in Ukraine, London, and Kazakhstan.~\sideparencite{karpenko2019_localhalo_a_social_network_for_neighbors}. 
Table~\ref{tab:local_halo_anaytics_overview} provides an overview of this case study.

The development team used the Expo development platform \url{https://expo.dev/} to create native apps that ran on Android and iOS apps. The mobile app was written in React Native~\footnote{\url{https://reactnative.dev/}} (the associated website is likely to have been written using React js~\footnote{\url{https://reactjs.org/}} and also instrumented using Sentry Analytics which were also available for research purposes). These apps were released on Google Play and Apple's App Store respectively. The \acrshort{cto} was actively involved in writing and maintaining the source code and was supported by developers in three locations, in the Ukraine, London, and Kazakhstan.~\sideparencite{karpenko2019_localhalo_a_social_network_for_neighbors}.  Data in the Sentry mobile analytics reports indicate there was at least one distinct developer in addition to the CTO.

Little additional information was available during conversations in terms of their development or release practices for their mobile apps. One observation is Expo claims to automate the release process to the app stores so the LocalHalo development team may have relied and used the Expo service. And Sentry provided reports on the release numbers and their rollout.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{11cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://www.localhalo.com/} \\
       Google Play Home & \url{https://play.google.com/store/apps/developer?id=NAY+PROTECT+LTD} \\
       Founded &2018 \\
       Business Domain &Digital neighbourhood groups in UK.\\
       Business type &Startup, two co-founders: CEO and \acrshort{cto} \\
       Technologies  &React Native for cross-platform Android and iOS development \\
       &Expo development framework \\
       Source code  &Closed and not available for research \\
       Analytics used by team &Sentry, Mixpanel, Google Play Console \\
       Development Practices &Not explicit, a small distributed team \\
       \midrule
       User base &7,000 registered users and between 1k to 2k monthly active users in Jan 2020. \\
       Installations &1,000's for the Android app \\
       \midrule
       Source of case study &One of their team knew of my professional work and introduced me to the CEO. \\
       Catalyst for the case study &The CEO was keen to support the research. \\
       Approvals &Internally approved within the core development team. \\
       \midrule
       Research methods &Interview, email discussions, bug analysis, use of mobile analytics \\
       Analytics collected &Live access to: Sentry, Google Play Console with Android Vitals \\
       Research software &Vitals-Scraper used to preserve results \\
       Additional data collected &Interview notes, emails with the \acrshort{cto}, and automated emails from their mobile analytics services \\
       Active period &Jan 2020 to June 2020 \\
       \midrule
       \emph{Post-hoc} analysis &Included ongoing access to Sentry until late 2021. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Local Halo}
    \label{tab:local_halo_anaytics_overview}
\end{table*}
}

\textbf{Data sources:} Table~\ref{tab:localhalo-data-sources} provides details of the data sources obtained during this case study.

\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.4cm}p{2.4cm}r>{\raggedright}p{2.4cm}>{\raggedright}p{3cm}>{\raggedright\arraybackslash}p{2.5cm}} % Fixed thx to https://tex.stackexchange.com/a/467120/88466
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Pre-study interviews & contemporaneous notes\footnotemark & 3 & Ask the app devs. & Set scope and direction & 1-to-1 meetings with founders: 1 was in-person, 2 were online. \\
         Mid-study communications with developers & GMail & 10\textsuperscript{1} & Ask the app devs. & Insight into the Expo bug & Initiated by the researcher. \\
         Analytics tools \& artefacts &Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Beacon finding, drill down, across case comparisons, observation \& analysis. & Insight into the reporting effects of the Expo bug and the reporting provided for React-Native apps & Google Play Console with Android Vitals. \\
         Analytics tools \& artefacts & Interactive screenshots of the Sentry \acrshort{gui} & 10\textsuperscript{1} & Beacon finding, drill down, across \textit{tool} comparisons\footnotemark, observation \& analysis. & Insights into Sentry's reporting & Access continued until Sentry removed multi-account access from their free tier. \\
         Analytics tools \& artefacts & Sentry automated emails in GMail & 10\textsuperscript{2} & Beacon finding, drill down, observation and analysis. & Insights into Sentry's reporting, dev practices, \& cross-platform reporting & \textit{ditto.} NB: they continue to send weekly reports by email. \\
         \bottomrule
    \end{tabular}
    \caption{LocalHalo: data sources}
    \label{tab:localhalo-data-sources}
\end{table*}

\footnotetext{Pertinent details validated by email.}
\footnotetext{A specialisation of across case comparisons where the outputs of two mobile analytics tools were compared.}


\subsection{Local Halo: Contributions to the research}
TBC\todo{Add forward links when the relevant material has been included.}.

%\clearpage

%===================================================================

\section{App-centric: Moodspace}~\label{case-study-overview-moodspace} % The title is used throughout this file, do a search and replace.
Moodspace\index{Moodspace} is an Android app aimed at improving mental health through various exercises incorporated into the app. %The app was listed as one of the 25 best mental health apps~\footnote{\url{https://www.psycom.net/25-best-mental-health-apps}}. 
% The app features in various peer-reviewed papers, however they lack critical depth of the app e.g. in https://doi.org/10.1145/3411764.3445500 
%  -- ``A systematic review of cognitive behavioral therapy and behavioral activation apps for depression" (PLoS 2016)
% -- https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8529472/ (and the DOI https://mhealth.jmir.org/2021/10/e26712 )
% -- The following paper explains the needle-in-a-haystack challenge of establishing the evidence for this and similar apps https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7588098/
% It also features online e.g. in https://www.healthfoundry.org/covid-19-response 
It was released in 2019, with over 150K downloads by early 2020~\sideparencite{objectbox2020_moodspace_interview}. Ian Alexander, the interviewee, was `the software developer, co-founder, and runner of the company'~\sideparencite{objectbox2020_moodspace_interview} so he combined technical and operational responsibilities in his \Gls{cto} role. He is an experienced app developer and also trained as a chemical engineer. The \Gls{cto} was the sole developer. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://moodspace.org/} \\
       Google Play Home & \url{https://play.google.com/store/apps/details?id=boundless.moodgym} \\
       Founded & 2019 \\
       Business Domain & Health \\
       Business type & Online, in-app purchases. \\
       Technologies  & Android \\
       & ObjectBox ORM database \\
       Source code  &Closed and not available for research \\
       Analytics used by team & Firebase Analytics, Firebase Crashlytics, Google Play Console \\
       Development Practices & Sole software developer \\
       \midrule
       User base & 10,000's for the Android app \\
       Installations & 100,000's for the Android app \\
       \midrule
       Source of case study &One of their team knew of my professional work and introduced me to the CTO. \\
       Catalyst for the case study &The CTO was happy to support the research. \\
       Approvals &Directly from the interviewee, the \Gls{cto}. \\
       \midrule
       Research methods &Email interview \& follow-up discussions. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Exodus Privacy project reports. \\
       Active period & June 2019. \\
       \midrule
       \emph{Post-hoc} analysis &Material provided during the active period was combined with additional Grey Material, particularly for objectbox, an in-memory ORM database used in the app. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Moodspace}
    \label{tab:moodspace_case_study_anaytics_overview}
\end{table*}
}

The source code, issues database, and mobile analytics were all private.

At the time of the interview the team had developed a complete replacement for the Android app which was due to be launched in a couple of months (around August 2019). The startup was subsequently able to raise a round of funding and grow to six people. The project later returned to be a side-project which is maintained and updated~\sideparencite{alexander2021_linkedin_profile}.

The app had a strong positive User Experience rating of 4.18/5.00~\footnote{\url{https://onemindpsyberguide.org/apps/moodspace/}} which corroborates their objective to provide a beautiful and peaceful mobile app.

\textbf{Data sources:} Table~\ref{tab:moodspace-data-sources} provides details of the data sources collected in this case study.

\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.3cm}>{\raggedright}p{2.1cm}r>{\raggedright}p{2.4cm}>{\raggedright}p{2.8cm}>{\raggedright\arraybackslash}p{3.2cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Pre-study interview \&Mid-study communications with developers & GMail & 10\textsuperscript{1} & Ask the app devs. & Effectively the interview, albeit using emails.  & We ended up simply using emails rather than arranging a synchronous call and then continued the discussion using email.  \\
         Analytics tools \& artefacts &Interactive screenshots & 6 & Ask the app devs. & Evidence, and allows for comparisons. & Google Play Console with Android Vitals \\
         Grey Data &Tweets & 3 & Grey Data & Triangulation & The app was made fully free in response to the Covid-19 pandemic. \\
         \textit{Academic} Literature  &Peer reviewed publications & 3 & Secondary research. & Additional context & The app has been studied in various peer-reviewed papers.\footnotemark \\
         Grey Literature &Online articles & 10\textsuperscript{1} & Secondary research & Additional context & There are various discussions about the efficacy and suitability of this and similar apps. \\
         Development artefacts\footnotemark & Exodus Privacy project online reports & 4 & Grey Data & Details of mobile analytics integrated into the app & Their 4 snapshots indicate a variety of mobile analytics have been incorporated~\footnotemark. \\
         \bottomrule
    \end{tabular}
    \caption{Moodspace: data sources}
    \label{tab:moodspace-data-sources}
\end{table*}

\footnotetext{Interestingly standard Google Search finds peer reviewed papers that \textit{contain} the name of the app, whereas Google Scholar \url{https://scholar.google.com/} struggles to find them.}
\footnotetext{TBA how to classify Exodus Privacy and similar services that analyse app binaries. For the moment, development artefacts seems to be the best match of the existing data sources.}
\footnotetext{\url{https://reports.exodus-privacy.eu.org/en/reports/search/boundless.moodgym/}}


\subsection{Moodspace: Contributions to the research}
TBC\todo{Add forward links when the relevant material has been included.}.

%\clearpage

%===================================================================

\section{App-centric: Moonpig}~\label{case-study-overview-moonpig}
Moonpig\index{Moonpig} is an e-commerce business in Europe that sells greeting cards and related gifts online; they operate in the United Kingdom, USA and Australia. They have a highly rated mobile app, with overall ratings of 4.8/5 in Google Play and the Apple App Store. Note some portions of this case study were published in \sideparencite{harty_better_android_apps_using_android_vitals}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://www.moonpig.com/uk/} \\
       Google Play Home & \url{https://play.google.com/store/apps/developer?id=Moonpig.com} \\
       Founded &2000 \\
       Business Domain & Greeting cards and gifts \\
       Business type & e-commerce \\
       Technologies  & Native apps, Robospice, \\
       & AWS, GraphQL, nodeJS, \\
       & Commercetools, ContentStack, ... \\
       Source code  &Closed and not available for research \\
       Analytics used by team &Firebase, Google Play Console \\
       Development Practices & High performance engineering, ATDD, \\
         & micro-services architecture \\
       \midrule
       User base &100,000's for the Android app\\
       Installations &1,000,000+ for the Android app\\
       \midrule
       Source of case study &Meeting one of the development leads at meetups and peer workshops. \\
       Catalyst for the case study & Their genuine interest in the effects of the hypothesis. \\
       Approvals &Both the head of engineering and communication manager approved the case study and gave permission for the material to be used. \\
       \midrule
       Research methods &In person interviews, email discussions, remote testing \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software &They used Vitals-Scraper, otherwise none applicable.\\
       Additional data collected &Interview notes and emails \\
       Active period &June 2019 to July 2019. \\
       \midrule
       \emph{Post-hoc} analysis & Additional updates in Oct 2019 and Feb 2020. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Moonpig}
    \label{tab:moonpig_anaytics_overview}
\end{table*}
}

The software development department demonstrated high performance engineering in how they approached both public contributions, for instance through hosting Coding DoJos, and in terms of their use of mobile analytics to quickly triage and address pertinent issues.

The engineering organisation consisted of various teams, including a team for the Android app. At the time of the case study, the Android app combined several generations of their architecture and used various third-party libraries. One of these third-party libraries, Robospice, led to a higher crash rate for their Android app on newer releases of Android. The details are discussed in the \nameref{chapter-analytics-in-use} chapter.\todo{Add forward link once I've incorporated the material into that chapter.}

Their software engineering team have been actively involved in encouraging the wider software engineering community to learn and practice good software development practices, for example by hosting Coding DoJos~\footnote{Historical examples available online on twitter \url{https://mobile.twitter.com/moonpigtech} and in a \href{https://www.codurance.com/publications/newsletters/2020-02-13-newsletter}{Codurance newsletter} from February 2020, for example.}. They practiced similar software development practices when developing their production software, for instance in applying Acceptance Test Driven Development (ATDD)~\sideparencite{man2021_moonpig_atdd_part1}.
% If I need more references to grey literature then incorporate https://medium.com/moonpigtech/working-remotely-as-a-high-performance-engineering-team-at-moonpig-957b267de1d4 and https://medium.com/moonpigtech/introducing-the-moonpig-engineering-blog-c3fde37f06bd for their microsservice(s) architecture.

\textbf{Data sources:}  details of the data sources obtained in this case study are in Table~\ref{tab:moonpig-data-sources}.

\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.6cm}p{2.9cm}r>{\raggedright}p{2.1cm}>{\raggedright\arraybackslash}p{2.5cm}>{\raggedright\arraybackslash}p{3cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Pre-study interviews, mid-study communications with developers, \& walkthroughs & Contemporaneous notes & 10\textsuperscript{1} & Ask the app devs & Multiple insights & A mix of in-person meetings and video calls.  \\
         Mid-study communications with developers & GMail & 10\textsuperscript{2} & Ask the app devs & Cross-checking understanding, additional insights & Email conversations that helped support published research. \\
         Analytics tools \& artefacts &Interactive screenshots from Google Play Console with Android Vitals \& Vitals-scraper outputs &10\textsuperscript{1} & Sensemaking, ask the app devs. & External verification of vials-scraper & They ran vitals-scraper to evaluate whether it worked for other people. \\
         Analytics tools \& artefacts & Interactive screenshots from Firebase Analytics & 3 & Ask the app devs & Comparison of crash reporting in two mobile analytics tools. & Screenshots from Firebase Analytics and Android Vitals provided an opportunity to compare their outputs. \\
         \bottomrule
    \end{tabular}
    \caption{Moonpig: data sources}
    \label{tab:moonpig-data-sources}
\end{table*}


\subsection{Moonpig: Contributions to the research}
TBC\todo{Add forward links when the relevant material has been included.}. 
% \julian{You'll see an experimental page follows, called Contributions, that includes index entries that are flagged with [moonpig]. This is part of me seeking ways to automatically track the contributions of this case study to the overall research. It's not what I need but it's there so we can explore ways to improve the cross-referencing. There are notes in the meta-chapters/actions.tex with related reading on ways that may suit my goals.} 

%%% @Vel I'd like to provide an automatically generated set of cross-references per case study. This was my first experiment:
% \printindex[moonpig]


%\clearpage

%===================================================================

\section{App-centric: Smartnavi}~\label{case-study-overview-smartnavi}
SmartNavi\index{SmartNavi} is an unusual opensource project that replaces GPS for navigation when the users are walking. It uses significantly less power than using a true GPS provider. Google promoted the project as an Android experiment \url{https://experiments.withgoogle.com/smartnavi}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://smartnavi.app/home} \\
       Google Play Home & \url{https://play.google.com/store/apps/details?id=com.ilm.sandwich} \\
       Founded & 2014 \\
       Business Domain & Maps \& Navigation \\
       Business type & None, a student project that grew. \\
       Technologies  & Android \\
       & Background Service records steps and direction. \\
       Source code  & Opensource \url{https://github.com/Phantast/smartnavi} \\
       Analytics used by team & Fabric Crashlytics, Firebase Analytics, Google Play Console \\
       Development Practices & Main developer who accepts pull requests. \\
       \midrule
       User base & 10,000's for the Android app \\
       Installations & 50,000+ for the Android app \\
       \midrule
       \midrule
       Source of case study &Follow-up after researching the app's repo on GitHub. \\
       Catalyst for the case study & The developer was happy to support this research. \\
       Approvals &Informal, directly from the creator of the project. \\
       Research methods &Online interview, email discussions, etc. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails. \\
       Active period & July 2020 \\
       \midrule
       \emph{Post-hoc} analysis &Analysis of updates to the source code. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Smartnavi}
    \label{tab:smartnavi_anaytics_overview}
\end{table*}
}

The project's creator developed the app as part of his bachelors and masters degrees in Germany. He continued to develop and maintain it afterwards. The project does not have any automated tests, instead he tests the app interactively.  The project is unusual as, according to Christian, it provides a test bed for students at at least one German University researching Marketing, sadly I can't find any public references to this.

 \textbf{Data sources: } These are summarised in Table~\ref{tab:smartnavi-data-sources}.

Exodus Privacy confirms two analytics libraries are included: Firebase Analytics and Crashlytics \url{https://reports.exodus-privacy.eu.org/en/reports/152278/}.\todo{I need to be consistent in presenting these reports.}


\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{>{\raggedright}p{3cm}p{2.4cm}r>{\raggedright}p{2.1cm}>{\raggedright\arraybackslash}p{3cm}>{\raggedright\arraybackslash}p{2.2cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
        Development artefacts & Sourcecode\footnotemark & \href{https://github.com/Phantast/smartnavi/commits/master}{92 commits} & Code analysis & Understanding their use of Firebase and Crashlytics & \\
         Pre-study interviews & contemporaneous notes & 1 & Ask the app devs & Insights into the project \& their use of mobile analytics & Online interview. \\
         Mid-study communications with developers & GMail & 10\textsuperscript{1} & Ask the app devs & Discussion on the migration to Firebase Crashlytics & Email conversations. \\
         \bottomrule
    \end{tabular}
    \caption{Smartnavi: data sources}
    \label{tab:smartnavi-data-sources}
\end{table*}

\footnotetext{\url{https://github.com/Phantast/smartnavi}}

\subsection{Smartnavi: Contributions to the research}
TBC\todo{Add forward links when the relevant material has been included.}.



\clearpage

%===================================================================

\section{App-centric: Kiwix}~\label{case-study-overview-kiwix}
The Kiwix\index{Kiwix} project started as a way to make Wikipedia available offline, globally~\sideparencite{sutherland2014_wikimedia_on_kelson}. The team wrote software and implemented systems to do so and have been working closely with the WikiMedia Foundation for many years. They also make vast amounts of other content available, including StackOverflow for example. Innumerable teams, projects, and people use Kiwix in various guises.

The project has multiple opensource projects including software tools that download content from various sources including Wikipedia, web servers that serve content, and a wide range of desktop and mobile apps. I have been a part-time volunteer with the Kiwix project since 2014. I have contributed to several of these opensource projects including the Android app where I have helped with automated testing and with continuous builds, amongst other areas.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://www.kiwix.org/en/} \\
       Google Play Home & \url{https://play.google.com/store/apps/dev?id=9116215767541857492} \\
       Founded & 2007 \\
       Business Domain & Education \\
       Business type & Not for profit Association \\
       Technologies  & Native platform apps \\
       & And associated software tools. \\
       Source code  & Opensource \url{https://github.com/kiwix} \\
       Analytics used by team & \textit{none}\footnotemark, Google Play Console \\
       Development Practices & core developers combined with part-time volunteers. \\
       \midrule
       User base & 100,000's for the Android app \\
       Installations & 1,000,000+ for the Android app \\
       \midrule
       Research methods &Embedded volunteer part-time developer\footnotemark. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Emails from Google Play Console, development artefacts. \\
       Active period & March 2019 - March 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Kiwix}
    \label{tab:kiwix_anaytics_overview}
\end{table*}
}

\footnotetext{The policy of the Kiwix project is not to integrate any mobile analytics into the apps in order to protect the safety and privacy of users, however they do use the anonymous platform analytics provided by app stores.}
\footnotetext{I have been a part-time volunteer contributor to the Kiwix project since 2014.}

\subsection{Kiwix: Background - How the case study came about}
The reliability of the Android app, as reported by Android Vitals\index{Android Vitals}, had been a concern for the core project leaders and by early 2019 was a major concern yet the active developers for the Android app had not been able to materially improve the reliability. We agreed it would be worth trying to focus on improving the reliability and that the planned project wide hackathon in Stockholm would be a great opportunity to do so. In parallel the project had funding to pay for an experienced Android lead developer several days a week and one of his objectives would be to improve the reliability of the app. 


\subsection{Kiwix: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: work with Kiwix started in 2014, predating this case study by many years. 
    \item Engagement: we were already `engaged'; the scope was agreed to use a planned hackathon as an impetus to focus on improving the crash rate for the main Kiwix app.
    \item The action research stage: started around six months before the hackathon~\footnote{Many of the expenses were covered by the Kiwix organisation, the researcher covered their own expenses.} and continued for around six further months.
    \item \textit{Post-hoc} analysis: the analysis was ongoing during the action research stage and continues to date.
    \item Wrap-up: not applicable as the project is ongoing.
\end{enumerate}
}


\subsection{Kiwix: Development microcosm}
The codebase and development artefacts are all opensource, much of the communications is also publicly accessible, e.g. using GitHub issues, IRC and Slack~\footnote{\url{https://wiki.kiwix.org/wiki/Communication}}. In addition there are emails and informal discussions, and so on.

The project uses free-to-use services, for instance GitHub (and previously SourceForge) for the codebases. The Continuous Build service was Travis-CI at the time of the case study (since replaced by GitHub Actions) and the project had a free to use account on the BitBar device testing farm~\footnote{\url{https://bitbar.com/}}. The code base included a mix of unit tests and automated app tests. In short, the project used relatively well honed and complete tools and practices to manage their codebase, software contributions, perform code quality checks and run the automated tests on both virtual and actual Android devices.

At the start of the period covered by the case study there were two parallel releases in progress, the production 2.x release and a planned 3.0 release.

One of the many benefits of the project’s openness is the visibility into the developers who have developed and maintained the source code \url{https://github.com/kiwix/kiwix-android/graphs/contributors}. Many of the contributors joined as volunteers through Google Summer of Code~\sideparencite{google_summer_of_code} or Google Code-in \url{https://codein.withgoogle.com/archive/}~\footnote{Google Code-in was shutdown and the history archived by Google in 2020.}, and several of these became core contributors for a year or more, and some of these now work for leading technology businesses. There have been occasional contributions from Google software developers who volunteer their time.

\subsection{Kiwix: Data collected and methods used for collection}
The development artefacts including the codebase \href{https://github.com/kiwix/kiwix-android}{github.com/kiwix/kiwix-android} and the issues \href{https://github.com/kiwix/kiwix-android/issues}{github.com/kiwix/kiwix-android/issues} are both public and freely available. They include the history of the source code and of issues raised pertaining to the case study. The analytics artefacts were collected interactively and by using vitals-scraper. Various contemporaneous notes were made during the case study.  Details of the data sources for this case study are in Table~\ref{tab:kiwix-data-sources}.

\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{>{\raggedright}p{2cm} >{\raggedright}p{3.3cm} r >{\raggedright}p{2.1cm} >{\raggedright}p{2.2cm} >{\raggedright\arraybackslash}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Development artefacts & Sourcecode\footnotemark & 10\textsuperscript{3} & Code analysis & History of commits with crash fixes &  \\
         Development artefacts & Issues\footnotemark & 10\textsuperscript{3} & Artefact analysis & Bugs & \\
         Pre-study interviews & GMail & 10\textsuperscript{1} & & Holistic discussion of the hackathon. & Email conversations \\
         Field notes & contemporaneous notes & 10\textsuperscript{1} & Observation and Analysis & Reflections on the progress of this the first of the action research case studies. & \\
         Analytics tools \& artefacts &Interactive screenshots from Google Play Console with Android Vitals \& Vitals-scraper outputs &10\textsuperscript{2} & Sensemaking, ask the tool devs & Measured ongoing improvements. & Outputs were discussed with Google Engineering. \\
         \bottomrule
    \end{tabular}
    \caption{Kiwix: data sources}
    \label{tab:kiwix-data-sources}
\end{table*}

\footnotetext{\url{https://github.com/kiwix/kiwix-android/tree/develop}}
\footnotetext{\url{https://github.com/kiwix/kiwix-android/issues}}


\subsection{Kiwix: Intervention}
The primary intervention was for several of the team to address several of the most prevalent crashes during the Kiwix hackathon. Follow on bug fixes, based on mobile analytics outputs, led to further improvements in the stability of the main Android app. When the custom apps were refreshed using the improved codebase their stability also increased.

\subsection{Kiwix: Contributions to the research}
TBC where they are located in the rest of this thesis.


%\clearpage

%===================================================================

\section{App-centric: Catrobat}~\label{case-study-overview-catrobat}
The Catrobat project was created and is actively developed by a team in the Graz University of Technology, Austria~\footnote{\url{https://www.tugraz.at/en/home/}}. It consists of the flagship Pocket Code app, several custom branded derivatives, and the increasingly popular Pocket Paint app which emerged from the Pocket Code app where it remains as a subset of the overall Pocket Code's functionality. The project started in 2010, has had over 1,300 contributors, 4 million downloads, and 350 thousand active users, and is used in 180+ nations in 60+ languages~\sideparencite{catrobat_project}.

The Android app in this case study is an extremely and unusually well researched and properly developed app and codebase.  There are at least 216 contributors for the Android Pocket Code app~\sideparencite{github_catroid}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{11cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://catrobat.org/} \\
       Google Play Home & \url{https://play.google.com/store/apps/developer?id=Catrobat} \\
       Founded & 2010 \\
       Business Domain & Education \& Visual programming. \\
       Business type & Not for profit association. \\
       Technologies  & Android \\
       & Jenkins CI~\url{https://jenkins.catrob.at/job/Catroid/}  \\
       & JIRA~\url{https://jira.catrob.at/} \\
       Source code  & Opensource \url{https://github.com/Catrobat} \\
       Analytics used by team & Fabric Crashlytics, Google Play Console \\
       Development Practices & Sophisticated~\footnotemark \\
       \midrule
       User base & 100,000's for the Android app \\
       Installations & 1,000,000+ for the Android app \\
       \midrule
       Research methods &Hackathon, online interviews, email discussions, etc. \\
       Analytics collected &Fabric Crashlytics, Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails \\
       Active period & November 2019 to March 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Catrobat}
    \label{tab:catrobat_case_study_anaytics_overview}
\end{table*}
}

\footnotetext{Sophisticated in this context is explained in \secref{catrobat-development-microcosm}}

\subsection{Catrobat: Background - How the case study came about}
A PhD student who was part of the Catrobat project discovered my research at the MobileSOFT 2019 conference. Their flagship Pocket Code app had a persistently high, chronic crash rate and my early research for the Kiwix project seemed worth evaluating in case it could help them reduce the high crash rate. The case study included two main events, 1) a hackathon in November 2019 and 2) participation in a pre-conference workshop in Poland in February 2020. We agreed on a hackathon for a couple of reasons: Kiwix found them beneficial and productive, and the Catrobat team wanted to have a short, unusual and interesting way to try out the concept of using mobile analytics outputs to improve reliability that would also appeal to their developers. 

Their project leads selected Pocket Code as the app we would use for the field experiment as it had the higher crash rate and was also a significantly more complex app than their other core app Pocket Paint which was relatively self-contained and simple in terms of both functionality and codebase.


\subsection{Catrobat: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: like Kiwix, the case study includes an open and opensource project with several Android apps, which makes it relatively easy to work with and open to collaboration. It also had an app with a high crash rate so one that offered lots of scope for improvement. Furthermore the Pocket Code app included Fabric Crashlytics and thereby provided the scope to understand Crashlytics and compare the results of the two mobile analytics tools. 
    \item Engagement: was simple given the open nature of the project and the development team, access was given to both their mobile analytics services and to create issues in JIRA. We agreed on the hackathon to kickstart the action research~\footnote{Many of the expenses were covered by the Catrobat organisation.}. A second workshop was planned for \nth{28} Feb 2020 which did not go as envisaged because of the outbreak of Covid-19 that weekend in parts of Europe.
    \item The action research stage: effectively started with planning the hackathon and finished just over three months later (with the mass outbreak of Covid-19).
    \item \textit{Post-hoc} analysis: the progress by the development team for the 20 issues raised during the hackathon have been reviewed, in tandem the improvements to the crash rate were assessed for the two releases post hackathon.
    \item Wrap-up: the case study transitioned into a quiescent state for various reasons. Given the open nature of the project and the engagement additional action research is expected in 2022.
\end{enumerate}
}


\subsection{Catrobat: development microcosm}~\label{catrobat-development-microcosm}
The development microcosm was \textbf{sophisticated} and one of the most mature in terms of opensource mobile app ecosystems~\footnote{I have worked in opensource for 15 years, including at Google, eBay, and other organisations so I say this based on my professional experience.}. For example: the project has automated tests. In an admittedly small sample only 9 of 19 opensource Android app projects had any automated tests, analysed by~\sidetextcite{silva2016_an_analysis_of_automated_tests_for_mobile_android_apps} (40.6\% of 1000 projects have automated tests~\sideparencite[p. ]{cruz2019_guess_what_test_your_app}); the project has automated tests and CI/CD, only 14.7\% of 1000 opensource Android apps do so~\sideparencite[p. ]{cruz2019_guess_what_test_your_app}~\footnote{Interestingly they did not evaluate either Pocket Code or Pocket Paint. They also discounted `self-hosted' CI including Jenkins which Catrobat uses extensively.}.  \textbf{TODO} check the code coverage for Catrobat.\emph{``only 19 are actually promoting full test coverage with coverage tracking services"}~\sideparencite[p. ]{cruz2019_guess_what_test_your_app}. Of the 1000 projects\emph{``147 apps with both CI/CD and tests"}~\sideparencite[p. ]{cruz2019_guess_what_test_your_app}. The project uses code quality tools and aims for zero warnings from these tools. They also developed their own custom test automation framework and integrated Fabric Crashlytics into their flagship Pocket Code Android app.

% Possibly also cite: 10.1109/ICSME.2017.47 10.1109/ICST.2015.7102609 10.1109/QRS-C.2019.00064 For now I'll keep writing!

The Android app in this case study is an extremely and unusually well researched and properly developed app and codebase. The project started in 2010, has had over 1,300 contributors, 4 million downloads, and 350 thousand active users, and is used in 180+ nations in 60+ languages~\sideparencite{catrobat_project}. There are at least 216 contributors for the Android Pocket Code app~\sideparencite{github_catroid}.

Many perceived good practices were and are assiduously applied on an ongoing basis, for instance:~\href{https://github.com/Catrobat/Catroid}{Test-Driven Development, Clean Code}~\sideparencite{catrobat_first_steps_into}, a documented consistent~\href{https://github.com/Catrobat/Catroid/wiki/Workflow}{workflow} and \href{https://github.com/Catrobat/Catroid/wiki/Creating-a-pull-request}{Pull Requests}, and \href{https://jenkins.catrob.at/job/Catroid/}{Continuous Integration}. The codebase is far more complex than the Kiwix Android apps and the app is significantly richer in terms of the features and functionality~\sideparencite{mueller2019_pocketcode}.

\subsection{Catrobat: data collected and methods used for collection}
The project team provided access to Google Play Console for all their Android apps and also to their Fabric Crashlytics account. They also provided access to their JIRA and Jenkins systems (read access to both system is public). Their codebases are all public and available as opensource. The majority of the data for this case study is public, in JIRA tickets and in the codebase for Pocket Code. Outputs from the two mobile analytics tools were captured interactively and using vitals scraper for Google Play Console with Android Vitals\index{Android Vitals}. There are some email communications and similarly various handwritten field notes in notebooks.


\begin{table*}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.4cm}p{2.4cm}r>{\raggedright}p{2.4cm}>{\raggedright}p{3cm}>{\raggedright\arraybackslash}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Pre-study interviews & contemporaneous notes\footnotemark & 3 & Ask the app devs & Set initial context, the baseline, and scope &  \\
         Mid-study communications with developers & GMail & 10\textsuperscript{1} & Ask the app devs & case-study related updates and planning &  \\
         Analytics tools \& artefacts & Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Sensemaking &  &  \\
         Development artefacts & Issues & 20+ & Observation and Analysis & & \\
         Field notes & various & 10\textsuperscript{1} & Observation and Analysis & & \\
         Development artefacts & various\footnotemark & 10\textsuperscript{1} & Field experiment, sensebuilding, sensemaking & & \\
         \bottomrule
    \end{tabular}
    \caption{Catrobat: data sources}
    \label{tab:catrobat-data-sources}
\end{table*}

\footnotetext{These are opensourced and available online \url{https://github.com/julianharty/testing-with-analytics-workshop/}.}

\subsection{Catrobat: Intervention}
The key intervention was organise a weekend hackathon with an open invitation for any of the extended development team to participate. During day 1 of the hackathon, after informal introductions and a discussion about the aims of the hackathon, the next task was to create tickets in JIRA for the top 10 crash clusters and the top 10 \acrshort{anr} clusters as reported by Android Vitals\index{Android Vitals}. These were reported in JIRA during the first hour of the hackathon, the complete set are available online at \url{https://jira.catrob.at/browse/CATROID-418?jql=labels\%20\%3D\%20hackathon-2019}. 

The participants, in ones or twos, selected one of these tickets and worked on it. They then selected another ticket and worked on that one. They continued for approximately 5 hours until late afternoon that day. The event closed with a communal meal at a local pizzeria. The participants chose not to continue with day 2 of the hackathon (which was on the Sunday), instead they preferred to work on the issues during the normal working week (Monday to Friday). Several of them did so and continued to work on various tickets raised in the hackathon. The project team made two related releases of the Pocket Code Android app, with cumulative fixes in these releases.

\subsection{Catrobat: Contributions to the research}
TBC\todo{Add forward links when the relevant material has been included.}.


%\clearpage

%===================================================================

\section{App-centric: C1}~\label{case-study-overview-C1}
% A couple of sentences to introduce them
Case study C1\index{C1} is based on a project at a multi-billion dollar international business outside the USA. Details of the project are confidential and therefore not published in this thesis, nonetheless various findings can be shared as part of this research. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\textit{Confidential} \\
       Google Play Home & \textit{Confidential} \\
       Founded & \textit{Confidential} \\
       Business Domain & A high tech corporation \\
       Business type & An international company \\
       Technologies  & \textit{Confidential} \\
       Source code  &Closed. \\
       Analytics used by team & Microsoft App Center, other commercial products, proprietary code, and Google Play Console. \\
       Development Practices & Multiple teams working on the Android app. \\
       \midrule
       User base & 1,000,000's for the Android app \\
       Installations & 1,000,000's for the Android app \\
       \midrule
       Research methods &Consultant. \\
       Analytics collected &App Center, Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Additional Analytics and logs, details are confidential. \\
       Active period & Q4 2020 - Q2 2021 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: C1}
    \label{tab:commercial_case_study_anaytics_overview}
\end{table*}
}

\subsection{C1: Background - How the case study came about}
The researcher accepted a consulting engagement with the corporation and was asked to assist one of their key projects. This project included an Android app, online APIs developed by the larger project team, and other apps, systems and services. It also incorporated other internal systems, APIs, and services provided by other development teams. 

Owing to confidentially and other contractual obligations details have been removed from this case study any examples are independently able to be corroborated. 


\subsection{C1: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: the company engaged me to jointly improve one of the critical Android apps as part of a wider brief. At the time the Android app had millions of users.
    \item Engagement: details of the project and the work are confidential. Access was provided to source code and other development and analytics artefacts.
    \item The action research stage: direct, remote engagement working-from-home using commercially available collaboration tools.
    \item \textit{Post-hoc} analysis: access to the materials was available after the action research stage and evaluated both for the project team and for research purposes.
    \item Wrap-up: access to the systems and artefacts are no longer available. A summary of the findings and results were provided to senior management.
\end{enumerate}
}


\subsection{C1: Development microcosm}
The overall project team comprised over 100 people working directly on the product. Developers worked in a matrixed organisation~\sideparencite[describes matrix organisations in detail]{stuckenbruck1979_the_matrix_organization}. Multiple groups of developers worked on the Android app. 

\subsection{C1: Data collected and methods used for collection}
The data was collected contemporaneously during the consulting engagement and subsequently. Details cannot be provided here nonetheless the methods described in the Methodology chapter were used from a research perspective. Extensive field notes were made contemporaneously in addition to contributions to development artefacts. 

\subsection{C1: Intervention}
Worked with several teams, including those working on the Android app in particular, to reduce the crash and \acrshort{anr} rates for the app beyond a phased two-stage set of improvements (which were achieved using a combination of Google Play Console\index{Google Play Console} with Android Vitals\index{Android Vitals} as the primary source and measure and Microsoft App Center to augment, corroborate, and provide inter-tool-comparisons).

\subsection{C1: Contributions to the research}
\textbf{TBD} as I'm not \todo{Add forward links when the relevant material has been included.}.

\begin{enumerate}
    \item Excessive \acrshort{anr}s
    \item Excessive Crash Rate
    \item Gaps in understanding and gaps in testing of changes and generally of networking code increase crash rate several fold
    \item Problems could have ameliorated using Release Management reports
    \item Concerted focus to address native memory leaks that caused some of the crashes
    \item Code written to reproduce the networking errors that led to the crashes, followed by fixes to the underlying code covered adequately by automated tests, bring excessive crash rate under control.
    \item Majority of \acrshort{anr}s came from another project team's SDK, when the new SDK was integrated and a new release launched, the \acrshort{anr}s were materially improved. 
    \item Other crashes also addressed leading to further improvements.
    \item Automated build pipelines and implementation of code-quality analysis also help identify potential sources of failures (but signal to noise ratio was low).
\end{enumerate}

Discuss the success factors, what led to the material improvements, and also the sorts of things that led to unexpected increases in failures. Also discuss the utility of the release management reports and of taking action accordingly. Possibly also discuss the value in separating pre-release and post-release sources of data, versioning of the releases, etc.


%\clearpage

%===================================================================

\section{Augmenting the app-centric case studies: field experiments}~\label{section-field-experiments-to-augment-app-centric-case-studies}
The app-centric case studies provided various vectors into a rich and complex area, however as they were all for real world apps in production there were many aspects that did not occur during any of these case studies. During the research there were various field experiments\index{Field experiments} incorporated into the research. These are broadly in three areas:

\begin{enumerate}
    \itemsep0em
    \item Creating small experiments in the form of Android apps that exercised at least one mobile analytics service (Section \ref{section-small-experimental-android-apps}).
    \item Contributing to opensource mobile analytics projects (Section \ref{section-contributions-to-opensource-mobile-analytics-projects}).
    \item Research into logging performed by Android app developers and the development of software utilities to further that research (Section \ref{section-android-log-centric-experiments}). 
\end{enumerate}

These are followed by research into analysis of the source code of 107 Android apps to learn how developers use Firebase Analytics, more details in Section \ref{section-sourcecode-analysis-to-augment-app-centric-case-studies}.

\subsection{Dynamic tests to increase coverage of mobile analytics services}~\label{section-small-experimental-android-apps}
Various tests were performed to augment the app-centric case studies. The tests were packaged as several, small, experimental Android apps; they are not currently intended to go into general release.

\begin{itemize}
    \itemsep0em
    \item zipternet: \url{https://github.com/ISNIT0/zipternet}
    \item idot: \url{https://github.com/commercetest/idot} (access currently available upon request)
    \item AndroidCrashDummy: \url{https://github.com/ISNIT0/AndroidCrashDummy}
\end{itemize}

\subsection{Contributions to opensource mobile analytics projects}~\label{section-contributions-to-opensource-mobile-analytics-projects}
Projects that are opensourced are not necessarily easy to contribute to, there may be various hurdles and sufficient delays to dissuade the majority of developers from actually contributing to those projects. These field experiments were opportunistic in that they emerged as part of the reset of the research, nonetheless they are realistic as they included real-world improvements to those mobile analytics projects and the respective development teams reviewed and approved the contributions.

\begin{itemize}
    \itemsep0em
    \item PostHog\index{PostHog}: Two commits to improve the documentation \\ \href{https://github.com/PostHog/posthog.com/commits?author=julianharty}{github.com/PostHog/posthog.com/commits?author=julianharty}
    \item Sentry\index{Sentry}: Improved the onboarding documentation \\ \href{https://github.com/getsentry/sentry-docs/commits?author=julianharty}{github.com/getsentry/sentry-docs/commits?author=julianharty}
\end{itemize}

\textbf{PostHog}\index{PostHog}: the research included two commits to their codebase, both improvements to their documentation. They use a an automated `bot', \href{https://www.netlify.com/}{netlify}, that checked the changes and one of their employees approved and merged the changes. A nice gesture was another of their `bot's added me as a contributor to their project, \href{https://github.com/PostHog/posthog/pull/5692}{Add julianharty as a contributor}, and they provided a code to obtain some `\href{https://www.dictionary.com/browse/merch}{merch}'\sidenote{A set of three branded mugs and a sticker.}.

\textbf{Sentry}\index{Sentry}: the research consisted of a single commit to their codebase, to improve their developer-oriented documentation. They also use an automated `bot',\href{https://vercel.com/docs/concepts/git/vercel-for-github}{Vercel}, that reviewed the changes and eventually deployed the changes once the code review was completed successfully. The code-review included two of their team where we discussed and refined the change before they accepted it.

In both cases the companies were professional, friendly, and keen to improve the quality of their product and documentation. They provided various mechanisms to help ensure contributions were of sufficient quality and the people involved engaged in discussions about how they worked, \emph{etc.} Both provide clearly visible encouragements for people to participate and contribute. 

\subsection{Android log-centric experiments}~\label{section-android-log-centric-experiments}
Mobile analytics provides mechanisms developers can use to perform implicit and explicit logging where the logs are generated at runtime when the app is being used. This section provides an overview of the log-centric experiments and their related opensource projects; and the next section includes analysis of 107 opensource Android apps that use Firebase Analytics for logging. (\secref{section-sourcecode-analysis-to-augment-app-centric-case-studies}). 

The experiments extracted Android logging statements and then analysed them. This work was complemented with creating Assert statements that automated tests could use to check whether expected log messages had been emitted into the Android log.

The related opensource projects are:
\begin{itemize}
    \itemsep0em
    \item Automated tests for Android log messages: \\ \href{https://github.com/ISNIT0/AndroidLogAssert}{github.com/ISNIT0/AndroidLogAssert}
    \item Log Searcher \\ \href{https://github.com/ISNIT0/log-searcher}{github.com/ISNIT0/log-searcher}
    \item Logcat filter and analysis tool: \\ \href{https://github.com/ISNIT0/logcat-filter}{github.com/ISNIT0/logcat-filter}
    \item Log complexity comparison: \\ \href{https://github.com/ISNIT0/log-complexity-comparison}{github.com/ISNIT0/log-complexity-comparison}
\end{itemize}

%\clearpage

%===================================================================
\section{Augmenting the app-centric case studies: sourcecode analysis}~\label{section-sourcecode-analysis-to-augment-app-centric-case-studies}

\index{Analysis!Sourcecode}Sections \ref{case-study-overview-gtaf} to \ref{case-study-overview-moonpig} presents four app-centric case studies where the developers were asked of their experiences of using mobile analytics. This work complemented that research by investigating the source code of 107 opensource projects for active Android apps where the source code was freely available on GitHub. 

What these 107 projects had in common was they used recent releases of Firebase Analytics. 50 of these simply initialised the SDK and did not include any custom calls to the SDK, the remaining 57 did make custom calls. The analysis of the code was jointly performed with an international group of researchers and published in \sidetextcite{harty2021_logging_practices_with_mobile_analytics}. One of these 57 projects, Smartnavi (see Section \ref{case-study-overview-smartnavi}), also became an app-centric case study in that the developer was interviewed about their use of mobile analytics. 


%\clearpage

%===================================================================
\section{Tool-centric: Crashlytics}~\label{case-study-overview-crashlytics}
Crashlytics\index{Crashlytics} grew from a group of developers who wanted to scratch an itch~\sidecite{chang2015_how_six_people_built_crashlytics} into a product that first Twitter and then Google acquired as it became increasingly popular~\sidecite{___answersblog_2015_june_update}. 
Like many projects and products it morphed over the years and in 2020 Google completed the integration of Crashlytics into Firebase and removed support for older versions of the SDK (which had some knock-on effects in terms of privacy and what the reports contain).

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://fabric.io/} \\
       Founded & 2012 \\
       Business Domain & Crash reporting and analytics for mobile apps. \\
       Source code  & A subset is opensource \url{https://firebaseopensource.com/projects/firebase/firebase-android-sdk/readme/} \\
       \midrule
       User base & 1,000,000's for their analytics\footnotemark \\ %
       Installations & 100,000,000+ for the Android analytics \\ %Assuming 50% of 1B+ in 2015 https://web.archive.org/web/20160429221552/https://fabric.io/blog/milestone-achieved-one-billion-devices/
       \midrule
       Research methods &Grey Data, Grey Literature, analytics tools \& artefacts, field notes. \\
       Analytics collected &Fabric Crashlytics and Firebase Crashlytics reports. \\
       Research software & None applicable. \\
       Additional data collected &N/A. \\
       Active period & Q3 2019 to Q2 2020. \\
       Relevant app-centric case studies & Catrobat, Smartnavi. \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Crashlytics}
    \label{tab:crashlytics_case_study_anaytics_overview}
\end{table*}
}

\footnotetext{Based on a claim in 2015 \url{https://blog.twitter.com/developer/en_us/a/2015/crashlytics-now-serving-over-1-million-apps} with the assumptions: Android apps were a significant portion, the mean ratio of apps to developers is less than 5, the overall use has increased since 2015. Similar estimates are used to determine the installations from \url{https://blog.twitter.com/developer/en_us/a/2015/fabric-leading-the-sdk-market-in-performance-and-mobile-analytics}. The true figures are hard to ascertain as Google have integrated Crashlytics into Firebase.}
% See also https://web.archive.org/web/20160429221552/https://fabric.io/blog/milestone-achieved-one-billion-devices/

\subsection{Crashlytics: Background - How the case study came about}
The primary source of this case study is via the Catrobat case study where the development team were using Fabric Crashlytics in their flagship Pocket Code Android app. Crashlytics also surfaced in several of the developer interviews, and in source code for various opensource projects. Furthermore the researcher has been aware of Crashlytics through his professional work since at least 2015.

\subsection{Crashlytics: Data collected and methods used for collection}
The majority of the data collected was done so interactively through using the various reporting user interfaces provided by Fabric and Firebase. Additional data was collected though Grey Data and Grey Literature searches and through analysis of development artefacts.

\subsection{Crashlytics: Contributions to the research and where they are located in the rest of this thesis}
As ever at this stage, TBC once more of the next three chapters have been completed.


%\clearpage

%===================================================================
\section{Tool-centric: Firebase Analytics} 
Firebase\index{Firebase} was launched in 2012 \url{https://en.wikipedia.org/wiki/Firebase}, Firebase Analytics\index{Analytics!Firebase} was launched in 2016 \url{https://firebase.googleblog.com/2016/05/firebase-expands-to-become-unified-app-platform.html}. Various industry sources concur that Firebase Analytics is the most popular mobile analytics library and in well over 50\% of Android apps, for example exodus privacy states 55\% of the Android apps it has analysed have Firebase Analytics~\footnote{\url{https://reports.exodus-privacy.eu.org/en/trackers/49/}}, while AppBrain states it's in 82.88\% of Android apps and an astonishing 99.58\% of installs of new apps~\sideparencite{appbrain2021_firebase}. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://firebase.google.com/products/analytics} \\
       Founded & 2016\footnotemark \\
       Business Domain & Product analytics. \\
       Source code  & A subset is opensource \url{https://firebaseopensource.com/projects/firebase/firebase-android-sdk/readme/} \\
       \midrule
       User base & 1,000,000's for their analytics \\
       Installations & 2,000,000,000+ for the Android analytics\footnotemark \\
       \midrule
       Research methods &Ask the app devs, source code analysis, observation and analysis, sensemaking. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails. \\
       Active period & 2019 to 2020 \\
       Relevant app-centric case studies & Moodspace, Moonpig, Smartnavi.\\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Firebase Analytics}
    \label{tab:firebase_anaytics_overview}
\end{table*}
}

\footnotetext{Covered in the opening paragraph of this section.}
\footnotetext{Extrapolated from `82.88\% of installs'~\sideparencite{appbrain2021_firebase} and `over 2.5 billion active Android devices'~\sideparencite{androiddevelopersblog2019_unlock_your_creativity_2_5_billion}, and assuming there are at least the same quantity of active Android devices in January 2022.}

\subsection{Firebase Analytics: Background - How the case study came about}
The case study emerged from developer interviews as part of several of the app-centric case studies. Subsequent joint research was performed in 2020 to analyse 107 opensource Android apps on GitHub that included Firebase Analytics in their codebase~\sideparencite{harty2021_logging_practices_with_mobile_analytics}.

\subsection{Firebase Analytics: Data collected and methods used for collection}
Screenshots provided by developers and sent to the researcher by email. Source code was cloned from the respective opensource repos on GitHub and analysed using several tools including Google Sheets, Android Studio, and srcML (detailed in \sidetextcite{harty2021_logging_practices_with_mobile_analytics}).

\subsection{Firebase Analytics: Contributions to the research and where they are located in the rest of this thesis}
TBC.


%\clearpage

%===================================================================

\section{Tool-centric: Google Play Console with Android Vitals}~\label{case-study-overview-google-play-console-with-android-vitals}
Google Play Console\index{Google Play Console} incorporating Android Vitals\index{Android Vitals} is probably the largest composite source of analytics for mobile apps on Earth as it reports on up to several billion Android devices for the apps on that device~\footnote{Google does not publish details of how many devices have opted-out of the data being gathered, nor the exact inclusion and exclusion criteria for which apps are reported on so it is hard to determine the overall volumes. Google also owns the most popular in-app mobile analytics service, Firebase. In turn Firebase incorporates a movable feast of analytics offerings including Crashlytics, Google Analytics and Firebase Analytics. These two are almost certainly the top two analytics services on Earth for mobile apps.}.

\newthought{Some history}
In 2010, Google announced an service that appears to be the first version of what became Android Vitals where users could submit crash reports that developers would receive in their Android Market account~\sideparencite{androiddevelopersblog2010_android_error_crash_reports}. Google continued to evolve their analytics which included providing developers a mechanism to download crash and \acrshort{anr} reports from 2015~\sideparencite{androiddevelopers2015_integrate_play_data_into_your_workflow_with_data_exports} until 2018~\sideparencite{google_play_download_and_export_monthly_reports}. Google launched Android Vitals in 2017~\sideparencite{androiddevelopersblog2017_android_vitals_increase_engagement_etc}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://play.google.com/console/about/} \\
       Service origin & 2010\footnotemark \\
       Business Domain & Platform ecosystem \\
       Business type & For profit corporation \\
       Technologies  & Android \\
       Source code  & The Android codebase is opensource, the Google applications and libraries are closed and not available for research. Elements of the on device data collection code appears to be public.\\
       \midrule
       User base & 1,000,000's developers have access to the analytics \\
       Installations & 2,500,000,000+ for the Android analytics~\sideparencite{androiddevelopersblog2019_unlock_your_creativity_2_5_billion} \\ 
       \midrule
       Research methods &Sensemaking, sensebuilding, feedback mechanisms, and evaluation through action research. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & Vitals Scraper. \\
       Additional data collected &Interview notes and emails with both app developers and the development team of the tool. \\
       Active period & 2017 to 2022 \\
       Relevant app-centric case studies & All of them. \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Google Play Console with Android Vitals}
    \label{tab:google_play_console_with_android_vitals_anaytics_overview}
\end{table*}
}

\footnotetext{The history and rationale for this date is covered in the introduction to this section.}


\subsection{Google Play Console with Android Vitals: Background - How the case study came about}
The research into Google Play Console with Android Vitals predates the app-centric case studies. It is one of the \emph{de-facto} mobile analytics tools available to Android developers who release their apps in the Google Play ecosystem. Each of the app-centric case studies provided material related to this service that Google provides free of additional charge~\footnote{There is a one-off registration fee for creating a developer account for Google Play \url{https://support.google.com/googleplay/android-developer/answer/6112435}. Many developers can be added to that account in order to use it and developers can be added to more than one Google Play developer account.}.

\subsection{Google Play Console with Android Vitals: Data collected and methods used for collection}
The data included screenshots, extracts, and rekeying of contents from the interactive use of the mobile analytics service, interactive downloads of various monthly reports provided by the service, automated collection of screenshots and textual content through the use of Vitals Scraper, and material provided by interviewees who emailed screenshots and provided extracts. Source code was located through various searches online and through Grey Data, particularly through StackOverflow. 


\subsection{Google Play Console with Android Vitals: Contributions to the research and where they are located in the rest of this thesis}
TBC - likely to be in all the next three chapters and also elsewhere.


%\clearpage

%===================================================================

\section{Tool-centric: Iteratively with Amplitude}~\label{case-study-overview-iteratively-with-amplitude}
Two founders jointly created Iteratively\index{Iteratively} and raised seed funding for the startup. Their focus was to develop tools and approaches to help product managers, developers, and analysts to have a single coherent and trustworthy data analytics pipeline from design to use. The startup was acquired by Amplitude\index{Amplitude} who successfully listed on Nasdaq several months later, in 2021. 
% https://www.iposcoop.com/ipo/amplitude-inc/
% https://techcrunch.com/2021/09/29/what-amplitudes-direct-listing-says-about-ipo-pops-and-how-startups-can-avoid-them

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://iterative.ly/} and \url{https://amplitude.com/} \\
       Founded & 2019 \\ % https://www.crunchbase.com/organization/iteratively
       Business Domain & Software and services to help development teams capture clean, useful data to generate business insights. \\ % paraphrased from https://iterative.ly/about
       Business type & Startup, since acquired, now part of Amplitude, that went Public in 2021. \\
       Technologies  & SDK generation tools \\
       & Build and Integration tools, data validation tools for software analytics libraries. \\
       Source code  &Closed and not available for research. \\
       \midrule
       User base & 10\textsuperscript{1} companies used their analytics pre acquisition, unknown post integration. \\
       Installations & Not available.  \\
       \midrule
       Research methods &In person interviews, Grey Literature, email discussions, analysis of their Android SDK binary, and field experiment which led to observation and analysis. \\
       Analytics collected & Screenshots of the Iteratively service in use and of Amplitude. \\
       Research software & None applicable. \\
       Additional data collected &Discussions with one of their development team. \\
       Active period & May 2020 to 2022 \\
       Relevant app-centric case studies & None, it is part of the testing mobile analytics research. \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Iteratively with Amplitude}
    \label{tab:iteratively_with_amplitude_anaytics_overview}
\end{table*}
}

\subsection{Iteratively with Amplitude: Background - How the case study came about}
Patrick Thompson, Iteratively's CEO, contacted the researcher in May 2020. After an opening call with both founders, they were keen to share their experiences and make their tools and research available. The CEO confirmed both verbally and by email I was free to reuse their materials including for research purposes. They also accepted contributions to their materials and research, these were freely given and without charge or obligation. I introduced them to someone I worked with who they subsequently hired and they gave both of us permission to freely discuss details of their products, software, and research, again this is without charge or obligation, nonetheless there is an implicit moral obligation to protect sensitive material so shared and which is being upheld during this research.

\subsection{Iteratively with Amplitude: Data collected and methods used for collection}
Field notes were recorded contemporaneously during the various calls and discussions with the founder and with the developer, in addition there are various email (and WhatsApp) discussions. Field notes were also made, together with screenshots, when using the tools and their online reports. The source code for the Android app is also a form of data, and is on GitHub. It is available: currently on request. It will be opensourced at \url{https://github.com/commercetest/idot}. Google Play Console's Pre-launch reports have also been collected as screenshots using a web browser.

\subsection{Iteratively with Amplitude: Contributions to the research and where they are located in the rest of this thesis}
TBC.


%\clearpage

%===================================================================

\section{Tool-centric: Microsoft App Center}~\label{case-study-overview-microsoft-app-center}
App Center\index{App Center!Microsoft} combines various tools and utilities and includes in-app mobile analytics and crash reporting. The crash reporting aspect probably started as part of the HockeyApp\index{HockeyApp} SDK, Microsoft acquired HockeyApp in late 2016~\footnote{\href{https://web.archive.org/web/20150702124106/http://blogs.msdn.com/b/somasegar/archive/2014/12/11/microsoft-acquires-hockeyapp-leading-mobile-crash-analytics-and-beta-distribution-service-for-ios-android-and-windows-phone.aspx}{http://blogs.msdn.com/b/somasegar/archive/2014/12/11/microsoft-acquires-hockeyapp-leading-mobile-crash-analytics-and-beta-distribution-service-for-ios-android-and-windows-phone.aspx} (via the Web Archive project)}. The earliest mention of Crash reporting in HockeyApp's opensource Android SDK is in 2014~\footnote{\href{https://github.com/bitstadium/HockeySDK-Android/commit/3ccd53c44da791806720604b02d358de66ecbf6a}{github.com/bitstadium/HockeySDK-Android/commit/3ccd53c44da791806720604b02d358de66ecbf6a}.}

There is an interesting related opensource project \url{https://github.com/bitstadium/CrashProbe} that also had a related website called crashprobe.com~\footnote{See \url{https://web.archive.org/web/20161124205240/http://www.crashprobe.com/} for an example from 2016} which compared the performance of various crash reporting SDKs. As it was opensourced developers of several of these SDKs used it and submitted both source code and results. An example of the report from April 2017 is cached by the web archive \url{https://web.archive.org/web/20170412015831/http://www.crashprobe.com/ios/} which compares the results of 6 iOS crash reporting tools. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://appcenter.ms/} \\
       Launched as Microsoft App Center & 2017 \\ % https://www.dotnetcurry.com/xamarin/1435/visual-studio-app-center
       Business Domain & IDE and related online services that includes free and paid for services. \\
       Source code for the online service  &Closed and not available for research \\
       Source code for the Android SDK & \url{https://github.com/microsoft/appcenter-sdk-android} \\
       Source code for a sample Android app & \url{https://github.com/microsoft/appcenter-sampleapp-android} \\
       And other repositories listed at & \url{https://github.com/Microsoft/appcenter/wiki/Repositories} \\
       \midrule
       User base & 10\textsuperscript{4} developers estimated to use their analytics\footnotemark \\
       Installations & 1,000,000,000+ for the Android analytics \\
       \midrule
       Research methods & \\
       Analytics collected & \\
       Research software & None applicable. \\
       Additional data collected & \\
       Active period & March 2019 to Q2 2021 \\
       Relevant app-centric case studies & C1; and it is part of the testing mobile analytics research (see \secref{section-testing-mobile-analytics-tools-on-a-continuum}). \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Microsoft App Center}
    \label{tab:appcenter_case_study_anaytics_overview}
\end{table*}
}

\footnotetext{As many of the customers are likely to be corporations with large development teams, the ratio is likely to be several developers have access to AppCenter per app. According to AppBrain the App Center SDK has been installed in over 10 thousand apps and those apps have been downloaded over 3 billion times by \nth{25} November 2020 and was in over 13 thousand apps and 30 billion downloads by \nth{16} July 2021. It is in \nth{8} place in the Analytics library category for Android apps. It's also in 6.24\% of top apps, partly as it's included in top Microsoft apps (Microsoft OneDrive, Excel and Word 1 billion+ per app, LinkedIn 500 million, Mirosoft Office 100 million, and Skype Beta 5 million). It's installed in 1.76\% of new apps and 0.24\% of new app installs (App data sourced from~\url{https://www.appbrain.com/stats/libraries/details/appcenter/visual-studio-app-center})}.

\subsection{Microsoft App Center: Background - How the case study came about}
Microsoft App Center was integrated into several field experiment Android apps in 2019. It was also one of the main mobile analytics tools used in the commercial app-centric case study which extended the initial findings from the field experiments into mission-critical and real-world use of the service at scale based on an active end-userbase of millions of people.

\subsection{Microsoft App Center: Data collected and methods used for collection}
Screenshots and data obtained through the reporting APIs were collected as part of the assignment. In tandem field notes, email, and other collaboration tools were used on an ongoing basis during the action research period. Issues reported by others were also observed and analysed, for example in terms of how the issues were tracked, the changes to the app source code, and the subsequent testing of the potential fixes.

Grey Literature describes using Hockey App for crash reporting in iOS~\sideparencite{birani2016_hockey_app_for_crash_reporting}, the concepts of how to integrate and test crash reporting for Androids was similar.

\subsection{Microsoft App Center: Contributions to the research and where they are located in the rest of this thesis}
TBC.


%\clearpage

%===================================================================

\section{Tool-centric: Sentry}~\label{case-study-overview-sentry}
Sentry\index{Sentry} is a a good example of a mature investment-funded purpose-built company who provide various analytics services to their customers. They are one of several who have made their software freely available as opensource (others include Count.ly\index{Count.ly} and PostHog\index{PostHog}). Developers incorporate Sentry's SDKs and/or APIs into their software and can either self-host the necessary server-side software or use the services provided by Sentry. There is a free tier which has basic capabilities, and paid-for options.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table*}
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://sentry.io/welcome/} \\
       Founded & 2011 \\ % https://www.linkedin.com/company/getsentry/about/ and https://sentry.io/about/ states 10 years ago ...
       Business Domain & Software Performance Analytics \\
       Business type & Opensource code and paid for hosted services \\
       Technologies  & Multi-platform, \\
       & Client and Server codebases. \\
       Source code  & Opensource \url{https://github.com/getsentry} \\
       \midrule
       User base & 1,000,000's developers use their analytics~\sideparencite{sentry_customers}  \\
       Installations & \( \geq 1\% \) for the Android analytics\footnotemark \\
       \midrule
       Research methods &Observation and Analysis, Field Experiment. \\
       Analytics collected &Interactive reports and automated emails. \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails. \\
       Active period & Jan 2020 to Nov 2021 \\
       Relevant app-centric case studies & Local Halo; and it is part of the testing mobile analytics research (see \secref{section-testing-mobile-analytics-tools-on-a-continuum}). \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Sentry}
    \label{tab:sentry_case_study_anaytics_overview}
\end{table*}
}

\footnotetext{\url{https://www.appbrain.com/stats/libraries/details/sentry/sentry}}


\subsection{Sentry: Background - How the case study came about}
One of the app centric case studies, LocalHalo (\secref{case-study-overview-localhalo}, uses Sentry and they provided access to their Sentry account. The access continued after the action research aspect of that case study and provided an ongoing view of the usage and the behaviours of that app, and the project's website, until November 2021 when pricing changes by Sentry meant my access ceased.

\subsection{Sentry: Data collected and methods used for collection}

Data was collected interactively, via automated emails, and using their API service.

\subsection{Sentry: Contributions to the research and where they are located in the rest of this thesis}
TBC when the next 3 chapters are written.


%\clearpage

%===================================================================

\section{Miscellaneous sources of minor contributions}~\label{section-case-study-misc-contributions}

These include a project, EduVPN\index{EduVPN}, and six more mobile analytics software tools and associated services: AppPulse Mobile\index{AppPulse Mobile!HP}, AppSee\index{AppSee}, Azetone\index{Azetone}, Count.ly\index{Count.ly}, MixPanel\index{MixPanel}, PostHog\index{PostHog}, and SegmentIO\index{SegmentIO}. For the first three of these I worked indirectly with the development team, evaluated the product and service and provided bug reports and other feedback. These engagements were part of my consulting work with and for what became HP Enterprise (and subsequently was acquired by MicroFocus). Some material has been published in \sidetextcite{harty_aymer_playbook_2016}.

\begin{itemize}
    \item AppPulse Mobile: an innovative mobile analytics service that automatically instrumented Android apps during the build process of that app. The service provided crash and performance reporting. It was developed by HP, it is now owned by MicroFocus. 
    \item AppSee: the first of two `heatmapping' tools that included mobile analytics of the data collected by their in-app library. The company and their products were acquired and are no longer available.
    \item Azetone: the second of the two `heatmapping' tools. Their online presence indicates they continue to provide a similar product and service.
    \item Countly: one of the early opensource mobile analytics offerings, they offered a relatively simple complete end-to-end package with the client-side SDK and server.
    \item MixPanel: an early closed-source mobile analytics offering.
    \item SegmentIO: another long-term opensource mobile analytics offering, acquired in 2020 by Twilio. Their source code and issues database include various useful exemplary examples; these have contributed to the grey materials used in this research. 
\end{itemize}


%===================================================================

\section{Summary of the case studies overview}~\label{case-study-overview-summary}
This chapter covered a lot of ground. In summary the research includes learning how mobile analytics tools are used from the developers' perspective, some action research, software experiments, and analysis of Android apps that use the most popular mobile analytics service: Firebase Analytics. It then introduces tool centric case studies and finally miscellaneous additional sources of research material.

The next three chapters are a set and structured around the six perspectives. They provide findings aligned with three distinct focal points: first the processes used by app developers; second the products of their work, particularly in terms of improving the product artefacts. The third chapter in the set focuses on the mobile analytics tools and related services. Each chapter considers the status-quo and improvements to the status-quo. Sometimes they build on work presented in another of this set of chapters, for example they may cross-reference e.g. in their respective discussion section.

% Excluded from this chapter : the discussion with Sunil on a bank in Australia.