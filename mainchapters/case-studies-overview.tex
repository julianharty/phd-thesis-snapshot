\chapter{Overview of the case studies}~\label{chapter-case-studies-overview}

In the previous chapter app-centric and tool-centric case studies were introduced, together with the procedure used for the app-centric case studies. This chapter builds on their work and introduces each case study using a consistent structure to make them easy to comprehend and to facilitate their comparisons. Three subsequent, contiguous chapters will each address the temporal dimensions (understanding and improvement) of an object of analysis (use, artefacts, and tools). These will in turn be followed by the discussion chapter.

The case studies are in three groups, with a couple of interim sections that present complementary research that helps to fill various gaps. These three groups are: 
\begin{enumerate}
    \itemsep0em
    \item[1] App-centric case studies that \textbf{do not} have interventions (Sections \ref{case-study-overview-gtaf}, to \ref{case-study-overview-smartnavi}).
    \item[2] The app-centric case studies that \textbf{do} have interventions (Sections \ref{case-study-overview-kiwix} to \ref{case-study-overview-C1}).
    \item[ ] Interim work on various field experiments (Section \ref{section-field-experiments-to-augment-app-centric-case-studies}) and source code analysis (Section \ref{section-sourcecode-analysis-to-augment-app-centric-case-studies}).
    \item[3] The tool-centric case studies are in Sections \ref{case-study-overview-crashlytics} to \ref{case-study-overview-sentry}.
    \item[ ] Section \ref{section-case-study-misc-contributions} briefly introduces six more mobile analytics tools and another Android app as these provide miscellaneous minor contributions in the next three chapters.
\end{enumerate}

The app-centric case studies are presented in the same order as Table~\ref{tab:app-centric-studies-research-perspective} for the app-centric cases and then Table~\ref{tab:tool-centric-studies-research-perspective} for the tool-centric cases. 

A consistent structure is used to present each app-centric case study, similarly a subset of this structure is used for each of the tool-centric case studies. 
The app-centric structure covers the following topics:
\begin{itemize}
    \itemsep0em
    \item Background: how the case study came about.
    \item App-centric case study procedure: specifies details of the procedure used for this case study. This applies Section~\ref{methodology-app-centric-case-study-procedure}.
    \item Development microcosm: an overview of their development team and practices.
    \item Experiences of using mobile analytics: a brief summary of the team's use of mobile analytics for their project.
    \item Data collected and methods used for collection: specific summary of the data collected and methods used for the data collection based on Table~\ref{tab:mapping-datasources-to-six-perspectives}. The Exodus Privacy project~\footnote{https://reports.exodus-privacy.eu.org/en/} has been used to check the mobile analytics libraries detected in the apps from the app-centric case studies. 
    \item Intervention: a summary of the intervention performed. \textit{This only applies for case studies with an intervention.}
    \item Outcomes for the organisation/company: the outcomes achieved by the company, or organisation for non-profits, through their use of mobile analytics.
    \item Contributions to the research and where they are located in the rest of this thesis: links to where this case study contributes to the thesis.
    \item \textbf{\textit{A temporary ``wish list" to enhance the case-study where practical. These will be followed up where it's ``essential" for the thesis. The entire wish list will be removed from the generated thesis pre-submission.}}\improvement{In Bold and Italics so it's clear to all that the wishlist is exactly that, not a commission for me to do all the items I've got on the lists in the various case studies.}
\end{itemize}

\clearpage




%===================================================================

\section{App-centric: GTAF}~\label{case-study-overview-gtaf}
% A couple of sentences to introduce them
Greentech Apps Foundation (GTAF) is a UK based charity that provides Islamic apps free of charge and without in-app advertising. The project started in 2016 with the aim of enabling people to learn the Quran in the local language -- Bangla -- in Bangladesh. The project was started by a self-taught Android developer and his cousin Yemin, at the time an undergraduate student in computer science, who is now employed by the project in a hybrid role of software developer and project manager. Table \ref{tab:gtaf_anaytics_overview} summarises the key facts for this case study.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{11cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://gtaf.org/} \\
       Google Play Home & \url{https://play.google.com/store/apps/dev?id=7665838187257770408} \\
       Founded & 2016 \\
       Business Domain & Not-for-profit.  \\
       Business type & Educational foundation. \\
       Technologies  & Android apps\footnotemark \\
       & React Native \\
       Source code  & Closed and not available for research \\
       Analytics used by team & Firebase, OneSignal, Google Crashlytics, Google Play Console \\
       Development Practices & Small hybrid development team \\
       \midrule
       User base & 1,000,000'+ for their 10 Android apps \\
       Installations & 1,000,000's for their 10 Android apps \\
       \midrule
       Research methods &Online interview and email discussions, etc. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable? \\
       Additional data collected &Direct access to Google Play Console with Android Vitals, and to the public, issue database. Interview notes and emails. \\
       Active period & June 2020 to September 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: GTAF}
    \label{tab:gtaf_anaytics_overview}
\end{table}
}

\footnotetext{The project have subsequently released several of their apps on other platforms, see \url{https://gtaf.org/apps}.}

\subsection{GTAF: Background - How the case study came about}
A fellow PhD researcher contributes voluntarily as a developer as part of the extended project team and introduced me to the core project team who agreed my research was of interest to them and something they were willing to support.

\subsection{GTAF: App-centric case study procedure}
The app-centric case study procedure is as follows:
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: the project had various popular Android apps in Google Play store. They were already using several mobile analytics services so were already familiar with the concepts presented in this research.
    \item Engagement: the developers had had to address excessively-high crash rates, so they were interested in the research and willing to help. They were happy to provide read access to their Google Play Account for their apps, but they were cautious about providing access to additional analytics services or their source code, so we agreed that the research would start with Google Play Console with Android Vitals and access to their issue tracking system, which is public anyway.
    \item The action research stage consisted of three elements: a discussion on their use of mobile analytics, ongoing read only access to their Google Play Console, and a report based on the analysis of the Google Play Console and Android Vitals reports and data for their top apps. Ill-health and some other complications effectively limited any additional action research. 
    \item \textit{Post-hoc} analysis: as the research has ongoing access to Google Play Console, the analysis continues.
    \item Wrap-up: either once the viva has completed; or TBD \textit{e.g.} the project team may wish to disconnect from the research or they may wish to increase the engagement beyond the end of the PhD.
    \item Publication: Given the relatively limited involvement, there is little scope to publish findings from this case study alone, however the findings will be published in this thesis and may also contribute to additional publications.
\end{enumerate}
}


\subsection{GTAF: development microcosm} 
The project hosts their development artefacts on gitlab.com, where they maintain their issues in a publicly available online location \url{https://gitlab.com/greentech/}, and the source code is private. There are various developers: some are volunteers, several are paid for (through donations to the charity). From the interview I got the impression developers of some of the less active apps are fairly autonomous, which includes their choice and any use of mobile analytics. 

Three of the apps (which effectively become four as one app is released as two distinct binaries) were in ongoing active development (\href{https://play.google.com/store/apps/details?id=com.greentech.quran}{Al Quran},~\href{https://play.google.com/store/apps/details?id=com.greentech.hadith}{Hadith Collection}, and~\href{https://play.google.com/store/apps/details?id=com.greentech.hisnulmuslim}{Dua \& Zikr}, which is also released separately in Bangla~\href{https://play.google.com/store/apps/details?id=com.greentech.hisnulmuslimbn}{{Dua and Zikr (Hisnul Muslim)}}~\emph{in Bengali}); and they planned to revamp two more of the apps (\href{https://play.google.com/store/apps/details?id=com.greentech.islamicquiz}{(Islamic Quiz)} and~\href{https://play.google.com/store/apps/details?id=com.greentech.salatbn}{Meaningful prayers (salat)}~\textit{in Bengali}, which was called salat in our interview).

The team occasionally used Firebase TestLab~\footnote{\url{https://firebase.google.com/docs/test-lab}} to test some of the apps and autonomous `Robo testing'~\footnote{\url{https://firebase.google.com/docs/test-lab/android/robo-ux-test}} performed automatically by the test lab has triggered various crashes in the apps being tested. One such example was where an app was missing a `resource'. The team fixed the build by adding the missing resource but did not explicitly retest the app afterward in Firebase.  

\subsection{GTAF: Experiences of using mobile analytics}
The development team checks Android Vitals approximately once a week, and Firebase more frequently as the team decided the crash reports in Firebase are more actionable. Perhaps unsurprisingly they check more often after new releases of their apps looking for any new bugs arising in the new release as it rolls out across the user population.

They noticed differences in the Firebase reports compared to Android Vitals, however they were not overly concerned about the differences as their focus was on the crashes reported in Firebase because they contain more contextual detail. ANRs seldom checked, considered to be less impactful on users and lower frequencies. % TODO ask for access to their Firebase stats?

At the time of the case study, the team's development priorities for the rest of 2020 and until April 2021 the team were focusing on bug-fixes which included fixing the causes of crashes being reported by mobile analytics for their apps. In March 2021, they published a blog post which confirms this focus and includes a chart of their average daily crashes for 2020 which shows their progress in addressing peaks in the crash rate~\citep{gtafblog2021_gtaf_accomplishment_2020}. The chart does not provide any additional information \emph{e.g.} of which app(s) the chart was plotted for or the source of the data. However, from the appearance of the chart it can be inferred that the source is probably Firebase Analytics.

The same blog post~\citep{gtafblog2021_gtaf_accomplishment_2020} explains one of their goals for 2021 was to `integrate analytics features in our application' to improve the user experience for the people who use the GTAF apps.

\subsection{GTAF: data collected and methods used for collection}
The data was collected from four primary sources: 1) an online, \textit{pre-study} interview, recorded in handwritten notes, 2) ongoing read access to Google Play Console with Android Vitals, both automated and interactive snapshots were captured, 3) email correspondence, maintained in a GMail account, and 4) the project's public issues database, which was searched interactively. These are illustrated in Table~\ref{tab:gtaf-data-sources}.


\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.4cm}p{2.4cm}rp{2.4cm}p{3cm}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method &Contribution & Remarks \\
        \toprule
         Interview with core developer & contemporaneous notes\footnotemark & 1 & Ask the app devs & Set scope \& direction & Online call \\
         Google Play Console with Android Vitals &Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Beacon finding, drill down, across case comparisons, observation \& analysis. & Indications of the development team's attention to the crash rate, insights into the performance of their apps, corroboration of findings across various case studies. &  \\         
         email conversations & GMail & 10\textsuperscript{1} & Ask the app devs & Feedback, and sense-making.  &  \\
         Public GitLab & Issues  & 10\textsuperscript{2} & Observation and Analysis, analysis of development artefacts. & Corroboration of what the development team say they do in terms of using mobile analytics. &  \\

         \bottomrule
    \end{tabular}
    \caption{GTAF: data sources}
    \label{tab:gtaf-data-sources}
\end{table}



As the project did not provide access to Firebase or the other in-app analytics it was not feasible to compare their outputs, and similarly they did not provide access to the source code of their apps so that could not be studied.

\subsection{GTAF: Intervention}
None: the GTAF case study did not include a formal intervention.

\subsection{GTAF: Outcomes for the company}
The organisation found mobile analytics helpful and addressed the crashes they believed were tractable and productive to fix in terms of improving the user experience.


\subsection{GTAF: Contributions to the research}
TBC\pending{Add forward links when the relevant material has been included.}.

\julian{There is scope to do ongoing analysis of the Google Play Console and Android Vitals reports for the project's 10+ Android apps. They help indicate some foibles in the Dashboard page for several apps - at least, where the combined ANR and crash rate report does not agree with the separate Crash and ANR reports from Android Vitals.}

\subsection*{GTAF: wish list}
Here's my wish list so we can discuss it and decide what's appropriate to do of these and what to park.
{\small
\begin{itemize}
    \itemsep0em
    \item Contact the team again once the thesis has been drafted to review the findings and ask the additional open questions here. 
    \item Ask them about their development practices 12+ months on from the active engagement.
    \item Ask clarifying and follow-up questions based on their 2020 blog post e.g. the source of the graph data and their assessment of their progress in 2021, and on their plan to increase the use of mobile analytics in the apps.
    \item Ask if they would like any further help or involvement. If so, request access to their Firebase Analytics console and any other developer centric mobile analytics tools.
    \item Explore if they'd be willing to change the relationship to being more of an action research case study where I help them (free-of-charge) to identify and address major stability issues in their Android apps.
\end{itemize}

\begin{itemize}
    \itemsep0em
    \item I could usefully do at least a day's worth of analysis on their Google Play Console and Android Vitals reports for their apps based on what I've observed. Whether that'd be sensible to do pre-submission is an open question.
    \item Similarly there's probably quite a bit of information that can be mined from their issue database on gitlab.
    \item ... and from using exodus-privacy e.g. \url{https://reports.exodus-privacy.eu.org/en/reports/search/com.greentech.hadith/}. There's an option to obtain reports for all the Greentech apps (around 10) and all the Kiwix apps (close to 20) and all the Catrobat apps (around 7), etc. and perform some analysis and reporting. Then it's also possible to scan the app binary for localhalo and other apps that use react-native to see if it's possible to establish a signature for Sentry (and similar mobile analytics designed for React Native apps), etc. etc. 
    \item Add results from analysing the binaries of the apps with exodus-privacy.
\end{itemize}
}  % end \small

\clearpage

%===================================================================

\section{App-centric: Local Halo}~\label{case-study-overview-localhalo}
LocalHalo was a startup based in London who made a social network for neighbours~\footnote{\url{https://ain.ua/en/2019/10/18/localhalo-raises-500k/}} with developers in Ukraine, London, and Kazakhstan.~\citep{karpenko2019_localhalo_a_social_network_for_neighbors}. 
Table~\ref{tab:local_halo_anaytics_overview} provides an overview of this case study.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{11cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://www.localhalo.com/} \\
       Google Play Home & \url{https://play.google.com/store/apps/developer?id=NAY+PROTECT+LTD} \\
       Founded &2018 \\
       Business Domain &Digital neighbourhood groups in UK.\\
       Business type &Startup, two co-founders: CEO and CTO \\
       Technologies  &React Native for cross-platform Android and iOS development \\
       &Expo development framework \\
       Source code  &Closed and not available for research \\
       Analytics used by team &Sentry, Mixpanel, Google Play Console \\
       Development Practices &Not explicit, a small distributed team \\
       \midrule
       User base &7,000 registered users, 1k to 2k monthly active (Jan 2020) \\
       Installations &1,000's for the Android app \\
       \midrule
       Research methods &Interview, email discussions, bug analysis, use of mobile analytics \\
       Analytics collected &Live access to: Sentry, Google Play Console with Android Vitals \\
       Research software &Vitals-Scraper used to preserve results \\
       Additional data collected &Interview notes, emails with the CTO, and automated emails from their mobile analytics services \\
       Active period &Jan 2020 to June 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Local Halo}
    \label{tab:local_halo_anaytics_overview}
\end{table}
}

\subsection{Local Halo: Background - How the case study came about}
I was introduced to the CEO of Local Halo by one of their team who knew of my work in October 2019. An online call was followed by an in-person meeting with the CEO in November 2019 where he offered to be a case study for my research. After an online call in January 2020 with the CTO, they provided access to Google Play Console with Android Vitals for their Local Halo Android app~\footnote{The underlying app is cross-platform which generates both Android and iOS binaries.}, and to their Sentry~\footnote{\url{https://sentry.io/welcome/}}, which was used to track technical issues with their app and website. 

\subsection{Local Halo: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: the project had a cross-platform app available in iOS and Android; it was written in React Native, the \nth{3} most popular framework in approximately 8\% of the top Android apps~\citep{appbrain2021_react_native_stats}, so very much of interest in terms of the research.
    \item Engagement: we agreed the research would not have access to the third analytics service, Mixpanel~\footnote{\url{https://mixpanel.com/}}, which they used for user behaviour and related analytics. This service included personally-identifiable information of their users and would not be useful for this research. We also agreed no access would be provided to the source code, as that was deemed sensitive. 
    \item The action research stage: the main connection was through the shared medium of mobile analytics outputs, together with analysis of these outputs and an email discussion of one issue in particular.
    \item \textit{Post-hoc} analysis: as the project team provided ongoing access to Sentry analytics there was ongoing analysis until late 2021 of these analytics. 
    \item Wrap-up: the project team appears to have stopped working on the app a few months after the active period and was not available, hence the wrap-up has been on the research side.
    \item Publication: this case study has contributed to understanding of two mobile analytics services for react-native apps. Accordingly, the findings may be published in industry and research venues.
\end{enumerate}
}


\subsection{Local Halo: Development microcosm}
The development team used the Expo development platform \url{https://expo.dev/} to create native apps that ran on Android and iOS apps. The mobile app was written in React Native~\footnote{\url{https://reactnative.dev/}} (the associated website is likely to have been written using React js~\footnote{\url{https://reactjs.org/}} and also instrumented using Sentry Analytics which were also available for research purposes). These apps were released on Google Play and Apple's App Store respectively. The CTO was actively involved in writing and maintaining the source code and was supported by developers in three locations, in the Ukraine, London, and Kazakhstan.~\citep{karpenko2019_localhalo_a_social_network_for_neighbors}.  Data in the Sentry mobile analytics reports indicate there was at least one distinct developer in addition to the CTO.

Little additional information was available during conversations in terms of their development or release practices for their mobile apps. One observation is Expo claims to automate the release process to the app stores so the LocalHalo development team may have relied and used the Expo service. And Sentry provided reports on the release numbers and their rollout.

\subsection{Local Halo: Experiences of using mobile analytics}
The development team used at least three distinct mobile analytics services: Mixpanel for behavioural analytics, Sentry for error analytics, and Google Play Console with Android Vitals (these were the ones discussed with the CTO). 

Local Halo incorporated two analytics libraries into their cross-platform mobile application: Sentry for crash reporting and Mixpanel for business-oriented usage analytics. For their Android app they also had access to Google Play Console. Interestingly, the Exodus Privacy project detects additional trackers and does not detect Sentry, as their report for Local Halo confirms: \url{https://reports.exodus-privacy.eu.org/en/reports/225323/}.

They seldom used Google Play Console with Android Vitals. According to the CTO it did not suit apps developed in React Native as the crashes did not actually crash the shell app which wraps the React Native app~\footnote{Note, other developers have asked about this behaviour, for instance on StackOverflow \href{https://stackoverflow.com/questions/66166824/native-crash-reporting-for-expo-deployed-to-android/}{Native crash reporting for Expo deployed to Android?}} 
(which is what appears to be monitored by Android). The shell app restarts the React Native app automatically.

The development team chose to use separate analytics services for user behaviour analytics (Mixpanel) and issues such as crashes and anomalies (Sentry). Presumably the respective SDKs were incorporated into the React Native source code~\footnote{Some of the errors reported by Sentry indicate the integration used TypeScript (which is supported in React Native, see \url{https://reactnative.dev/docs/typescript}. Mixpanel also provides an opensource wrapper that supports React Native \url{https://github.com/mixpanel/mixpanel-react-native}.}~\footnote{Note: Local Halo also incorporated Sentry into their website and provided access to Sentry for their website, however the website is out of scope for this research and will not be considered further here.}. Only two people have access to Sentry: the CTO and me; therefore any other members of the development team would have indirect access, for instance via screenshots and/or bug reports raised by the CTO. 

They saw value in using analytics to improve business results, for instance for App Store Optimisation to improve the ranking of their app in the app stores. The CTO made a key observation during the interview: \emph{``If you have lots of crashes you have zero chance of being promoted [by the app store].''}
%
In terms of user experience analytics the CTO also observed: \emph{``To improve user retention you need to do both: eliminate the bad stuff [and] improve the good stuff [to] increase value''}.

The overall impression was the team had decided to incorporate mobile analytics to help them provide a reliable and valuable service for their current and hoped-for users where the team would address errors on an \emph{ad-hoc} basis.


\subsection{Local Halo: Data collected and methods used for collection}
This case study combines three immediate sources of data with automatically provided reports. The interactive sources are: 1) separate meetings with the founders, 2) email conversations with the founders, and 3) online access to two mobile analytics tools. The automatically provided reports include 100's of automated emails from Sentry's hosted mobile analytics service, and Vital Scraper was also used to collect reports and crash details from Google Play Console with Android Vitals. Table~\ref{tab:localhalo-data-sources} provides more details.

\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.4cm}p{2.4cm}rp{2.4cm}p{3cm}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         1-to-1 meetings with founders & contemporaneous notes\footnotemark & 3 & Ask the app devs. & Set scope and direction & 1 was in-person, 2 were online \\
         email conversations & GMail & 10\textsuperscript{1} & Ask the app devs. & Insight into the Expo bug & Initiated by the researcher. \\
         Google Play Console with Android Vitals &Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Beacon finding, drill down, across case comparisons, observation \& analysis. & Insight into the reporting effects of the Expo bug and the reporting provided for React-Native apps &  \\
         Sentry & Interactive screenshots & 10\textsuperscript{1} & Beacon finding, drill down, across \textit{tool} comparisons\footnotemark, observation \& analysis. & Insights into Sentry's reporting & Access continued until Sentry removed multi-account access from their free tier. \\
         Sentry automated emails &GMail & 10\textsuperscript{2} & Beacon finding, drill down, observation and analysis. & Insights into Sentry's reporting, dev practices, \& cross-platform reporting & \textit{ditto.} NB: they continue to send weekly reports by email. \\
         \bottomrule
    \end{tabular}
    \caption{LocalHalo: data sources}
    \label{tab:localhalo-data-sources}
\end{table}

\footnotetext{Pertinent details validated by email.}
\footnotetext{A specialisation of across case comparisons where the outputs of two mobile analytics tools were compared.}

\subsection{Local Halo: Intervention}
None: the Local Halo case study did not include a formal intervention.

\subsection{Local Halo: Outcomes for the company}
The nature of the case study (being remote from the development team, with access limited to two of the mobile analytics services, and correspondence being occasional) meant the outcomes for the company are hard to ascertain. It is clear the founders saw the value in choosing two particular mobile analytics services to help them manage the business and the service their provided to their users. 

Their main focus was to try to grow the business. Ultimately that was not successful, a topic discussed briefly in the next paragraph. Nonetheless, the analytics tools continue to report on the app and the website and continue to provide some insights into the reliability of the app and usage of the app.

Note: The founders of local halo indicated, as of October 2020~\footnote{Via their respective LinkedIn profiles: \url{https://www.linkedin.com/in/jamesroutledge/} and \url{https://www.linkedin.com/in/andriymarin/}.}, they are no longer actively involved in this project. And there are confirming indications in sentry.io as the app has not been updated in over a year, in contrast to the many updates they made previously. So even though the app remains online and available, and the analytics continue to report, there is no one actively maintaining the app or dealing with the errors being reported in the analytics.

\subsection{Local Halo: Contributions to the research}
TBC\pending{Add forward links when the relevant material has been included.}.

\subsection*{Local Halo: Wish list}
{\small
\begin{itemize}
    \itemsep0em
    \item I wish we could find out how actively the development team were reading, reviewing and addressing crashes being reported. However, as the project no longer appears to be active that's unlikely to happen.
    \item I'd also appreciate ongoing access to both Sentry and Google Play Console with Android Vitals for the app, again I doubt this is viable given the project is defunct.
    \item NB: the material in this section needs editing and condensing there's a bit too much info and too much repetition. Once I add content to the next 3 chapters for Local Halo I should have a better idea of what doesn't belong here.
    \item Find a place to discuss the penetration of react-native in Android apps on Google Play, see \url{https://www.appbrain.com/stats/libraries/details/react_native/react-native}.
\end{itemize}
}

\clearpage

%===================================================================

\section{App-centric: Moodspace}~\label{case-study-overview-moodspace} % The title is used throughout this file, do a search and replace.
Moodspace is an Android app aimed at improving mental health through various exercises incorporated into the app. %The app was listed as one of the 25 best mental health apps~\footnote{\url{https://www.psycom.net/25-best-mental-health-apps}}. 
% The app features in various peer-reviewed papers, however they lack critical depth of the app e.g. in https://doi.org/10.1145/3411764.3445500 
%  -- ``A systematic review of cognitive behavioral therapy and behavioral activation apps for depression" (PLoS 2016)
% -- https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8529472/ (and the DOI https://mhealth.jmir.org/2021/10/e26712 )
% -- The following paper explains the needle-in-a-haystack challenge of establishing the evidence for this and similar apps https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7588098/
% It also features online e.g. in https://www.healthfoundry.org/covid-19-response 
It was released in 2019, with over 150K downloads by early 2020~\citep{objectbox2020_moodspace_interview}. Ian Alexander, the interviewee, was the software developer, co-founder, and runner of the company~\citep{objectbox2020_moodspace_interview} so he combined technical and operational responsibilities. He is an experienced app developer and also trained as a chemical engineer.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://moodspace.org/} \\
       Google Play Home & \url{https://play.google.com/store/apps/details?id=boundless.moodgym} \\
       Founded & 2019 \\
       Business Domain & Health \\
       Business type & Online, in-app purchases. \\
       Technologies  & Android \\
       & ObjectBox ORM database \\
       Source code  &Closed and not available for research \\
       Analytics used by team & Firebase Analytics, Firebase Crashlytics, Google Play Console \\
       Development Practices & Sole software developer \\
       \midrule
       User base & 10,000's for the Android app \\
       Installations & 100,000's for the Android app \\
       \midrule
       Research methods &Email interview \& follow-up discussions. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Exodus Privacy project reports. \\
       Active period & June 2019. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Moodspace}
    \label{tab:blank_case_study_anaytics_overview}
\end{table}
}

\subsection{Moodspace: Background - How the case study came about}
A practitioner recommended me and my research to the co-founder and CTO of Moodspace. He was willing to answer questions and also provide screenshots from Google Play Console and Android Vitals.


\subsection{Moodspace: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: Moodspace was one of several Android apps developed by the CTO and in a new application domain of health. 
    \item Engagement: The CTO was happy to answer questions and send a subset of pertinent information, his business responsibilities meant he was cautious about providing direct access to the analytics or development artefacts. 
    \item The action research stage: limited to analysis of ObjectBox in addition to learning how the project used mobile analytics.
    \item \textit{Post-hoc} analysis: similarly constrained by the limited access to artefacts, some follow up on research into this app and similar apps in terms of their efficacy.
    \item Wrap-up: followed up with the CTO in late 2019 who was actively focusing on fund-raising. There was nothing else to wrap-up.
    \item Publication: aspects of the discussions and findings were written up in research papers\pending{x-reference which case studies I published in which papers.}
\end{enumerate}
}


\subsection{Moodspace: Development microcosm}
Ian chose to use an in-memory ORM database, objectbox. In his words: 

\begin{quote}
\emph{``The app doesn't use any API, so all the data's stored in very fast ORM databases like object-box (and uses memory caching). This enables the app to be mostly synchronous, which hugely cuts down on complexity of code. i.e. no need to handle loading, errors, or concurrency. This is a big benefit! And cuts down on errors significantly, with no real impact on performance for users. To illustrate that it has little impact on users, I use firebase performance to run a trace on some methods that call the ORM/cache - it's peak duration is 40ms while the majority of calls take 3-6 ms."} (email correspondence, lightly edited to fix typos and improve readability)\improvement{Relocate this comment to the methodology chapter if I provide other edited extracts from emails.}.    
\end{quote}


At the time of the interview the team had developed a complete replacement for the Android app which was due to be launched in a couple of months (around August 2019).

\subsection{Moodspace: Experiences of using mobile analytics}
The app included both Firebase Analytics and Firebase Crashlytics. The discussion covered Firebase Crashlytics and Google Play Console with Android Vitals, Firebase Analytics was not mentioned by Ian. Details of their use are covered in the \nameref{chapter-analytics-in-use} chapter.

The current privacy policy for the Moodspace app confirms they actively use mobile analytics in the app: 

{\small
``To make the app work well at all we collect the following anonymous data:
    \begin{itemize}
        \itemsep0em
        \item Crash reports: If you've never seen the app crashing, it's because as soon as one happens, we get a crash report. A little red light flashes in our office, a loud siren blares, and we release a fix right away. It's quite annoying actually.
        \item Analytics: We assume you're going to use the app a certain way. We're almost always wrong, and you often surprise us. Analytics lets us see how people like you actually use the app, so we can make improvements to the right places. Analytics can use the Google Advertising ID to identify you. This doesn't tell us anything about you (it's just some numbers and letters), but if you really want to trick us you can reset your Google Advertising ID at any time. Go to your device Settings > Google > Ads."
    \end{itemize}~\citep{moodspace2021_privacy_policy}
}

\subsection{Moodspace: Data collected and methods used for collection}
The main source of data are emails from Ian, the CTO, the emails included extracts of screenshots from their Google Play Console with Android Vitals. These were supplemented with some additional research online using grey literature and grey data; Table~\ref{tab:moodspace-data-sources} provides additional details of the data sources used.

\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.3cm}p{2.1cm}rp{2.4cm}p{2.8cm}p{3.2cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         email conversations & GMail & 10\textsuperscript{1} & Ask the app devs. & Effectively the interview, albeit using emails.  & We ended up simply using emails rather than arranging a synchronous call.  \\
         Google Play Console with Android Vitals &Interactive screenshots & 6 & Ask the app devs. & Evidence, and allows for comparisons. &  \\
         Twitter &Tweets & 3 & Grey Data & Triangulation & The app was made fully free in response to the Covid-19 pandemic. \\
         via Google Search &Peer reviewed publications & 3 & Secondary research. &Additional context &The app has been studied in various peer-reviewed papers. \\ 
         Exodus Privacy Project & Online reports & 4 & Grey Data & Details of mobile analytics integrated into the app & Their 4 snapshots indicate a variety of mobile analytics have been incorporated~\footnotemark. \\
         \bottomrule
    \end{tabular}
    \caption{Moodspace: data sources}
    \label{tab:moodspace-data-sources}
\end{table}

\footnotetext{\url{https://reports.exodus-privacy.eu.org/en/reports/search/boundless.moodgym/}}


\subsection{Moodspace: Intervention}
None: the Moodspace case study did not include a formal intervention.

\subsection{Moodspace: Outcomes for the company}
The startup was subsequently able to raise a round of funding and grow to six people. The project later returned to be a side-project which is maintained and updated~\citep{alexander2021_linkedin_profile}. % Some details of the funding also available on twitter ``Thank you for so much support on our @Crowdcube campaign! More than 50 investors and Â£46k raised. You can still invest here: " https://twitter.com/MoodSpaceApp/status/1237753829174710272?s=20 http://crowdcube.com/boundlesslabs (protected behind an intrusive account creation process which I abandoned).
The app has a strong positive User Experience rating of 4.18/5.00~\footnote{\url{https://onemindpsyberguide.org/apps/moodspace/}}.

% The app was made free of charge on 17 March 2020 https://twitter.com/MoodSpaceApp/status/1239942338434215941 and https://www.healthfoundry.org/covid-19-response 


\subsection{Moodspace: Contributions to the research}
TBC\pending{Add forward links when the relevant material has been included.}.

\subsection*{Moodspace: Wish list}
{\small
\begin{itemize}
    \item I emailed Ian in April 2021, it'd be useful to receive a reply, not least so he can cross-check what I have included in the thesis.
    \item Add results from analysing the binaries of the apps with exodus-privacy.
\end{itemize}
}

\clearpage

%===================================================================

\section{App-centric: Moonpig}~\label{case-study-overview-moonpig}
Moonpig is an e-commerce business in Europe that sells greeting cards and related gifts online; they operate in the United Kingdom, USA and Australia. They have a highly rated mobile app, with overall ratings of 4.8/5 in Google Play and the Apple App Store. Note some portions of this case study were published in \citep{harty_better_android_apps_using_android_vitals}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://www.moonpig.com/uk/} \\
       Google Play Home & \url{https://play.google.com/store/apps/developer?id=Moonpig.com} \\
       Founded &2000 \\
       Business Domain & Greeting cards and gifts \\
       Business type & e-commerce \\
       Technologies  & Native apps, Robospice, \\
       & AWS, GraphQL, nodeJS, \\
       & Commercetools, ContentStack, ... \\
       Source code  &Closed and not available for research \\
       Analytics used by team &Firebase, Google Play Console \\
       Development Practices & High performance engineering, ATDD, \\
         & micro-services architecture \\
       \midrule
       User base &100,000's for the Android app\\
       Installations &1,000,000+ for the Android app\\
       \midrule
       Research methods &In person interviews, email discussions, remote testing \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software &They used Vitals-Scraper, otherwise none applicable.\\
       Additional data collected &Interview notes and emails \\
       Active period &June 2019 to July 2019, with updates in Oct 2019 and Feb 2020. \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Moonpig}
    \label{tab:moonpig_anaytics_overview}
\end{table}
}

\subsection{Moonpig: Background - How the case study came about}
One of the developers of the Android app learned about this research and offered to provide their insights into their use of mobile analytics for their Android app. Both the head of engineering and communication manager approved him doing so and gave permission for the material to be used.


\subsection{Moonpig: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: A highly popular Android app for a profitable e-commerce business that was developed by a team passionate about delivering an excellent quality app and service made the case study compelling. They also used Firebase Analytics actively and extensively. 
    \item Engagement: Clearance was obtained from senior management for the research and they gave permission to use the outputs and findings. Their developer had permission to discuss and share their use of mobile analytics. 
    \item The action research stage: various in-person discussions about their use of mobile analytics and how they handled sporadic peaks in failures.
    \item \textit{Post-hoc} analysis: this case study set the high-watermark for other case studies in terms of the reliability of complex Android apps and how the development team actively addressed the sporadic issues. 
    \item Wrap-up: Permission was sought for some additional updates but declined for business reasons at the time and post IPO.
    \item Publication: findings from this case study have been published in peer-reviewed papers.\pending{Add links once I've done the mapping mentioned for Moodspace.}
\end{enumerate}
}


\subsection{Moonpig: Development microcosm}
The engineering organisation consisted of various teams, including a team for the Android app. At the time of the case study, the Android app combined several generations of their architecture and used various third-party libraries. One of these third-party libraries, Robospice, led to a higher crash rate for their Android app on newer releases of Android. The details are discussed in the \nameref{chapter-analytics-in-use} chapter.\pending{Add forward link once I've incorporated the material into that chapter.}

Their software engineering team have been actively involved in encouraging the wider software engineering community to learn and practice good software development practices, for example by hosting Coding DoJos~\footnote{Historical examples available online on twitter \url{https://mobile.twitter.com/moonpigtech} and in a \href{https://www.codurance.com/publications/newsletters/2020-02-13-newsletter}{Codurance newsletter} from February 2020, for example.}. They practiced similar software development practices when developing their production software.

\subsection{Moonpig: Experiences of using mobile analytics}
The development team use Firebase Crashlytics and Google Analytics for diagnostics in addition to the information available in Android Vitals; and estimated they used Android Vitals approximately 30\% of their time to identify flaws and issues related to their Android app.
%
They also incorporated in-app analytics by using Firebase Analytics which recorded analytics related to how the users use the mobile apps and whether errors or other problems occurred while the app was being used. 

Their Android app had one of the highest stability scores, details are in the \nameref{chapter-analytics-in-use} chapter.\pending{Add forward link once I've incorporated the material into that chapter.}

\subsection{Moonpig: Data collected and methods used for collection}
The data was collected though a mix of in-person and online working sessions together with various email conversations. Screenshots and other materials were emailed by the developer to the researcher. 
%
The developer also ran Vitals Scraper to help evaluate whether it worked beyond the local use as part of various case studies. They sent the JSON results containing the crash clusters collected by Vitals Scraper. Additional details are in Table~\ref{tab:moonpig-data-sources}.

\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.2cm}p{2.3cm}rp{2.1cm}p{2.5cm}p{4cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Interviews \& walkthroughs & contemporaneous notes & 10\textsuperscript{1} & Ask the app devs & Multiple insights & A mix of in-person and video calls.  \\
         Email conversations & GMail & 10\textsuperscript{2} & Ask the app devs & Cross-checking understanding, additional insights & Helped support published research. \\
         Google Play Console with Android Vitals &Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Sensemaking, ask the app devs. & External verification of vials-scraper & They ran vitals-scraper to evaluate whether it worked for other people. \\
         Firebase Analytics & Interactive screenshots & 3 & Ask the app devs & Comparison of crash reporting in two mobile analytics tools. & Screenshots from Firebase Analytics and Android Vitals provided an opportunity to compare their outputs. \\
         \bottomrule
    \end{tabular}
    \caption{Moonpig: data sources}
    \label{tab:moonpig-data-sources}
\end{table}


\subsection{Moonpig: Intervention}
None: the Moonpig case study did not include a formal intervention.

\subsection{Moonpig: Outcomes for the company}
For over two years since the case study started, in June 2019, the Android app has been highly rated by end users in Google Play. According to AppBrain it is in the top 1\% of apps by rating, and in the top 5\% in both ratings (46,000) and downloads (estimated at 3,000,000)~\citep{appbrain_moonpig}.

The company was able to `go public' in February 2021 by listing on the London Stock Exchange.  Their success online through their website and their mobile apps were cited in their IPO~\footnote{Initial Public Offering - listing a company on a stock market.} Prospectus~\citep[p.92]{moonpig2021_ipo_prospectus}.

\subsection{Moonpig: Contributions to the research}
TBC\pending{Add forward links when the relevant material has been included.}.

\subsection*{Moonpig: Wish list}
{\small
\begin{itemize}
    \item The chapter and related material will be reviewed by the lead contributor to this case study.
    \item Add results from analysing the binaries of the apps with exodus-privacy.
\end{itemize}
}
\clearpage

%===================================================================

\section{App-centric: Smartnavi}~\label{case-study-overview-smartnavi}\improvement{This is an additional contribution that was easy to add now there's a consistent structure to introduce the case studies.} 
SmartNavi is an unusual opensource project that replaces GPS for navigation when the users are walking. It uses significantly less power than using a true GPS provider. Google promoted the project as an Android experiment \url{https://experiments.withgoogle.com/smartnavi}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://smartnavi.app/home} \\
       Google Play Home & \url{https://play.google.com/store/apps/details?id=com.ilm.sandwich} \\
       Founded & 2014 \\
       Business Domain & Maps \& Navigation \\
       Business type & None, a student project that grew. \\
       Technologies  & Android \\
       & Background Service records steps and direction. \\
       Source code  & Opensource \url{https://github.com/Phantast/smartnavi} \\
       Analytics used by team & Fabric Crashlytics, Firebase Analytics, Google Play Console \\
       Development Practices & Main developer who accepts pull requests. \\
       \midrule
       User base & 10,000's for the Android app \\
       Installations & 50,000+ for the Android app \\
       \midrule
       Research methods &Online interview, email discussions, etc. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails. \\
       Active period & July 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Smartnavi}
    \label{tab:smartnavi_anaytics_overview}
\end{table}
}

\subsection{Smartnavi: Background - How the case study came about}
The app was one of the opensource codebases investigated as part of my collaborative research on logging using Google Firebase Analytics. I noticed an issue which I reported to the project's developer and I submitted a pull request to address this issue~\footnote{\url{https://github.com/Phantast/smartnavi/pull/25}} which he accepted and merged. He agreed to be interviewed for this research.


\subsection{Smartnavi: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: this case study came via research into how developers of opensource Android apps use Firebase Analytics; then I discovered an oddity I thought the developer might be interested in.
    \item Engagement: the developer appreciated my interest and was happy to discuss their use of mobile analytics.
    \item The action research stage:  a discussion on their use of mobile analytics historically, submitting and having a minor Pull Request accepted.
    \item \textit{Post-hoc} analysis: analysis actually preceded the engagement.
    \item Wrap-up: not applicable as the project is opensource and the information freely provided.
    \item Publication: the research on the codebase was presented in a co-authored paper~\citep{harty2021_logging_practices_with_mobile_analytics}. 
\end{enumerate}
}


\subsection{Smartnavi: Development microcosm}
The project's creator developed the app as part of his bachelors and masters degrees in Germany. He continued to develop and maintain it afterwards. The project does not have any automated tests, he tests the app interactively. % The project is unusual as, according to Christian, it provides a test bed for students at at least one German University researching Marketing, sadly I can't find any public references to this.

\subsection{Smartnavi: Experiences of using mobile analytics}
Mobile Analytics are used for several purposes including A/B experiments using Firebase Analytics and Crashlytics for crash reporting. Several years ago (probably 2016) he spent a lot of time where he actively focused on fixing crashes being reported in Fabric Crashlytics (since superseded by Firebase Crashlytics). The few crashes that remain are ones either too impractical to investigate (e.g. on a few unbranded low-end Android devices he has no access to) or in a third-party library that only occurs again on a few unusual devices.

\subsection{Smartnavi: Data collected and methods used for collection}
Source code on GitHub analysed before and during the case study. Contemporaneous notes and email discussion. These are summarised in Table~\ref{tab:smartnavi-data-sources}.

Exodus Privacy confirms two analytics libraries are included: Firebase Analytics and Crashlytics \url{https://reports.exodus-privacy.eu.org/en/reports/152278/}.


\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{4cm}p{2.4cm}rp{2.1cm}p{3cm}p{1.2cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
        {\tiny \href{https://github.com/Phantast/smartnavi}{github.com/Phantast/smartnavi}} & Sourcecode & \href{https://github.com/Phantast/smartnavi/commits/master}{92 commits} & Code analysis & Understanding their use of Firebase and Crashlytics & \\
         Interview & contemporaneous notes & 1 & Ask the app devs & Insights into the project \& their use of mobile analytics & Online  \\
         email conversations & GMail & 10\textsuperscript{1} & Ask the app devs & Discussion on the migration to Firebase Crashlytics &  \\
         \bottomrule
    \end{tabular}
    \caption{Smartnavi: data sources}
    \label{tab:smartnavi-data-sources}
\end{table}



\subsection{Smartnavi: Intervention}
None: the Smartnavi case study did not include a formal intervention.

\subsection{Smartnavi: Outcomes for the company}
Bugs found by mobile analytics were fixed in the app including at least one raised by an Android user who wrote a 1-star review. The usability of the app was improved through the use of Firebase Analytics. 

\subsection{Smartnavi: Contributions to the research}
TBC\pending{Add forward links when the relevant material has been included.}.

\subsection*{Smartnavi: Wish list}
{\small
\begin{itemize}
    \itemsep0em
    \item Ask Christian for more info and any links related to fixing Crashlytics reported crashes.
    \item Also request screenshots (or readonly access) to Google Play Console with Android Vitals and Crashlytics.
    \item Add results from analysing the binaries of the apps with exodus-privacy.
\end{itemize}
}

% Extra feedback on the app https://www.kiledjian.com/main/2020/10/16/navigate-to-your-destination-without-using-gps

\clearpage

%===================================================================

\section{App-centric: Kiwix}~\label{case-study-overview-kiwix}
The Kiwix project started as a way to make Wikipedia available offline, globally~\citep{sutherland2014_wikimedia_on_kelson}. The team wrote software and implemented systems to do so and have been working closely with the WikiMedia Foundation for many years. They also make vast amounts of other content available, including StackOverflow for example. Innumerable teams, projects, and people use Kiwix in various guises.

The project has multiple opensource projects including software tools that download content from various sources including Wikipedia, web servers that serve content, and a wide range of desktop and mobile apps. I have been a part-time volunteer with the Kiwix project since 2014. I have contributed to several of these opensource projects including the Android app where I have helped with automated testing and with continuous builds, amongst other areas.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://www.kiwix.org/en/} \\
       Google Play Home & \url{https://play.google.com/store/apps/dev?id=9116215767541857492} \\
       Founded & 2007 \\
       Business Domain & Education \\
       Business type & Not for profit Association \\
       Technologies  & Native platform apps \\
       & And associated software tools. \\
       Source code  & Opensource \url{https://github.com/kiwix} \\
       Analytics used by team & \textit{none}\footnotemark, Google Play Console \\
       Development Practices & core developers combined with part-time volunteers. \\
       \midrule
       User base & 100,000's for the Android app \\
       Installations & 1,000,000+ for the Android app \\
       \midrule
       Research methods &Embedded volunteer part-time developer\footnotemark. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Emails from Google Play Console, development artefacts. \\
       Active period & March 2019 - March 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Kiwix}
    \label{tab:kiwix_anaytics_overview}
\end{table}
}

\footnotetext{The policy of the Kiwix project is not to integrate any mobile analytics into the apps in order to protect the safety and privacy of users, however they do use the anonymous platform analytics provided by app stores.}
\footnotetext{I have been a part-time volunteer contributor to the Kiwix project since 2014.}

\subsection{Kiwix: Background - How the case study came about}
The reliability of the Android app, as reported by Android Vitals, had been a concern for the core project leaders and by early 2019 was a major concern yet the active developers for the Android app had not been able to materially improve the reliability. We agreed it would be worth trying to focus on improving the reliability and that the planned project wide hackathon in Stockholm would be a great opportunity to do so. In parallel the project had funding to pay for an experienced Android lead developer several days a week and one of his objectives would be to improve the reliability of the app. 


\subsection{Kiwix: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: work with Kiwix started in 2014, predating this case study by many years. 
    \item Engagement: we were already `engaged'; the scope was agreed to use a planned hackathon as an impetus to focus on improving the crash rate for the main Kiwix app.
    \item The action research stage: started around six months before the hackathon~\footnote{Many of the expenses were covered by the Kiwix organisation, the researcher covered their own expenses.} and continued for around six further months.
    \item \textit{Post-hoc} analysis: the analysis was ongoing during the action research stage and continues to date.
    \item Wrap-up: not applicable as the project is ongoing.
    \item Publication: the case study has featured in several research papers so far with additional ones planned post PhD.
\end{enumerate}
}


\subsection{Kiwix: Development microcosm}
The codebase and development artefacts are all opensource, much of the communications is also publicly accessible, e.g. using GitHub issues, IRC and Slack~\footnote{\url{https://wiki.kiwix.org/wiki/Communication}}. In addition there are emails and informal discussions, and so on.

The project uses free-to-use services, for instance GitHub (and previously SourceForge) for the codebases. The Continuous Build service was Travis-CI at the time of the case study (since replaced by GitHub Actions) and the project had a free to use account on the BitBar device testing farm~\footnote{\url{https://bitbar.com/}}. The code base included a mix of unit tests and automated app tests. In short, the project used relatively well honed and complete tools and practices to manage their codebase, software contributions, perform code quality checks and run the automated tests on both virtual and actual Android devices.

At the start of the case study there were two parallel releases in progress, the production 2.x release and a planned 3.0 release.

One of the many benefits of the projectâs openness is the visibility into the developers who have developed and maintained the source code \url{https://github.com/kiwix/kiwix-android/graphs/contributors}. Many of the contributors joined as volunteers through Google Summer of Code~\citep{google_summer_of_code} or Google Code-in \url{https://codein.withgoogle.com/archive/}~\footnote{Google Code-in was shutdown and the history archived by Google in 2020.}, and several of these became core contributors for a year or more, and some of these now work for leading technology businesses. There have been occasional contributions from Google software developers who volunteer their time.

\subsection{Kiwix: Experiences of using mobile analytics}
The project leaders have consistently chosen \emph{not} to incorporate any analytics in their applications in order to protect the users of Kiwix software. Nonetheless they were willing to use analytics provided by Google Play which are collected by Android rather than by the app. The expectation is that users who are willing to let Android collect this data are unlikely to be at risk from using Kiwix.

\subsection{Kiwix: Data collected and methods used for collection}
The development artefacts including the codebase \url{https://github.com/kiwix/kiwix-android} and the issues \url{https://github.com/kiwix/kiwix-android/issues} are both public and freely available. They include the history of the source code and of issues raised pertaining to the case study. The analytics artefacts were collected interactively and by using vitals-scraper. Various contemporaneous notes were made during the case study.  Details of the data sources for this case study are in Table~\ref{tab:kiwix-data-sources}.

\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{4cm}p{2.4cm}rp{2.1cm}p{2.2cm}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         {\tiny \href{https://github.com/kiwix/kiwix-android/tree/develop}{github.com/kiwix/kiwix-android/tree/develop}} & Sourcecode & 10\textsuperscript{3} & Code analysis & History of commits with crash fixes &  \\
         {\tiny https://github.com/kiwix/kiwix-android/issues} & Issues & 10\textsuperscript{3} & Artefact analysis & \\
         Email conversations & GMail & 10\textsuperscript{1} & & Holistic discussion of the hackathon. &  \\
         Google Play Console with Android Vitals &Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{2} & Sensemaking, ask the tool devs & Measured the ongoing improvements. & Outputs were discussed with Google Engineering. \\
         \bottomrule
    \end{tabular}
    \caption{Kiwix: data sources}
    \label{tab:kiwix-data-sources}
\end{table}


\subsection{Kiwix: Intervention}
The primary intervention was for several of the team to address several of the most prevalent crashes during the Kiwix hackathon. Follow on bug fixes, based on mobile analytics outputs, led to further improvements in the stability of the main Android app. When the custom apps were refreshed using the improved codebase their stability also increased.

\subsection{Kiwix: Outcomes for the project}
The project was able to significantly reduce the measured crash rates~\footnote{Some of the apps do not have many users and the crashes were too few for Google Play to report on them. This topic is discussed in the \nameref{chapter-tools-and-their-artefacts} chapter.}\pending{Add link to the relevant section.} for all the shipping Android apps despite some additional complications related to Android app bundles. 

\subsection{Kiwix: Contributions to the research}
TBC where they are located in the rest of this thesis.

\subsection*{Kiwix: Wish list}
{\small
\begin{itemize}
    \itemsep0em
    \item I've requested some information on who had access to Google Play Console for the Kiwix apps. This would be useful for the analytics-in-use chapter. Ditto the same info for Catrobat, now I'm able to contact them again.
    \item Well there are many things I'd wish we'd done during the case study however the past is impractical to change. At some point I'll aim to reengage with the project and see whether we can address the stability issues that have emerged in 2021.
    \item Add results from analysing the binaries of the apps with exodus-privacy. \url{https://reports.exodus-privacy.eu.org/en/reports/search/org.kiwix.kiwixmobile/} 0 trackers, 9 permissions. Wikimed in English \url{https://reports.exodus-privacy.eu.org/en/reports/org.kiwix.kiwixcustomwikimed/latest/} 0 trackers, 6 permissions. PHeT \url{https://reports.exodus-privacy.eu.org/en/reports/org.kiwix.kiwixcustomphet/latest/} 0 trackers and 6 permissions.
\end{itemize}
}

\clearpage

%===================================================================

\section{Catrobat}~\label{case-study-overview-catrobat}
The Catrobat project was created and is actively developed by a team in the Graz University of Technology, Austria~\footnote{\url{https://www.tugraz.at/en/home/}}. It consists of the flagship Pocket Code app, several custom branded derivatives, and the increasingly popular Pocket Paint app which emerged from the Pocket Code app where it remains as a subset of the overall Pocket Code's functionality. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{11cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://catrobat.org/} \\
       Google Play Home & \url{https://play.google.com/store/apps/developer?id=Catrobat} \\
       Founded & 2010 \\
       Business Domain & Education \& Visual programming. \\
       Business type & Not for profit association. \\
       Technologies  & Android \\
       & Jenkins CI~\url{https://jenkins.catrob.at/job/Catroid/}  \\
       & JIRA~\url{https://jira.catrob.at/} \\
       Source code  & Opensource \url{https://github.com/Catrobat} \\
       Analytics used by team & Fabric Crashlytics, Google Play Console \\
       Development Practices & Sophisticated~\footnotemark \\
       \midrule
       User base & 100,000's for the Android app \\
       Installations & 1,000,000+ for the Android app \\
       \midrule
       Research methods &Hackathon, online interviews, email discussions, etc. \\
       Analytics collected &Fabric Crashlytics, Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails \\
       Active period & November 2019 to March 2020 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: Catrobat}
    \label{tab:blank_case_study_anaytics_overview}
\end{table}
}

\footnotetext{Sophisticated in this context is explained in \secref{catrobat-development-microcosm}}

\subsection{Catrobat: Background - How the case study came about}
A PhD student who was part of the Catrobat project discovered my research at the MobileSOFT 2019 conference. Their flagship Pocket Code app had a persistently high, chronic crash rate and my early research for the Kiwix project seemed worth evaluating in case it could help them reduce the high crash rate. The case study included two main events, 1) a hackathon in November 2019 and 2) participation in a pre-conference workshop in Poland in February 2020. We agreed on a hackathon for a couple of reasons: Kiwix found them beneficial and productive, and the Catrobat team wanted to have a short, unusual and interesting way to try out the concept of using mobile analytics outputs to improve reliability that would also appeal to their developers. 

Their project leads selected Pocket Code as the app we would use for the field experiment as it had the higher crash rate and was also a significantly more complex app than their other core app Pocket Paint which was relatively self-contained and simple in terms of both functionality and codebase.


\subsection{Catrobat: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: like Kiwix, the case study includes an open and opensource project with several Android apps, which makes it relatively easy to work with and open to collaboration. It also had an app with a high crash rate so one that offered lots of scope for improvement. Furthermore the Pocket Code app included Fabric Crashlytics and thereby provided the scope to understand Crashlytics and compare the results of the two mobile analytics tools. 
    \item Engagement: was simple given the open nature of the project and the development team, access was given to both their mobile analytics services and to create issues in JIRA. We agreed on the hackathon to kickstart the action research~\footnote{Many of the expenses were covered by the Catrobat organisation.}. A second workshop was planned for \nth{28} Feb 2020 which did not go as envisaged because of the outbreak of Covid-19 that weekend in parts of Europe.
    \item The action research stage: effectively started with planning the hackathon and finished just over three months later (with the mass outbreak of Covid-19).
    \item \textit{Post-hoc} analysis: the progress by the development team for the 20 issues raised during the hackathon have been reviewed, in tandem the improvements to the crash rate were assessed for the two releases post hackathon.
    \item Wrap-up: the case study transitioned into a quiescent state for various reasons. Given the open nature of the project and the engagement additional action research is expected in 2022.
    \item Publication: early results of the research were jointly published~\citep{harty_better_android_apps_using_android_vitals}.
\end{enumerate}
}


\subsection{Catrobat: development microcosm}~\label{catrobat-development-microcosm}
The development microcosm was \textbf{sophisticated} and one of the most mature in terms of opensource mobile app ecosystems~\footnote{I have worked in opensource for 15 years, including at Google, eBay, and other organisations so I say this based on my professional experience.}. For example: the project has automated tests. In an admittedly small sample only 9 of 19 opensource Android app projects had any automated tests, analysed by~\citet{silva2016_an_analysis_of_automated_tests_for_mobile_android_apps} (40.6\% of 1000 projects have automated tests~\citep[p. ]{cruz2019_guess_what_test_your_app}); the project has automated tests and CI/CD, only 14.7\% of 1000 opensource Android apps do so~\citep[p. ]{cruz2019_guess_what_test_your_app}~\footnote{Interestingly they did not evaluate either Pocket Code or Pocket Paint. They also discounted `self-hosted' CI including Jenkins which Catrobat uses extensively.}.  \textbf{TODO} check the code coverage for Catrobat.\emph{``only 19 are actually promoting full test coverage with coverage tracking services"}~\citep[p. ]{cruz2019_guess_what_test_your_app}. Of the 1000 projects\emph{``147 apps with both CI/CD and tests"}~\citep[p. ]{cruz2019_guess_what_test_your_app}. The project uses code quality tools and aims for zero warnings from these tools. They also developed their own custom test automation framework and integrated Fabric Crashlytics into their flagship Pocket Code Android app.

% Possibly also cite: 10.1109/ICSME.2017.47 10.1109/ICST.2015.7102609 10.1109/QRS-C.2019.00064 For now I'll keep writing!

The Android app in this case study is an extremely and unusually well researched and properly developed app and codebase. The project started in 2010, has had over 1,300 contributors, 4 million downloads, and 350 thousand active users, and is used in 180+ nations in 60+ languages~\citep{catrobat_project}. There are at least 216 contributors for the Android Pocket Code app~\citep{github_catroid}.

Many perceived good practices were and are assiduously applied on an ongoing basis, for instance:~\href{https://github.com/Catrobat/Catroid}{Test-Driven Development, Clean Code}~\citep{catrobat_first_steps_into}, a documented consistent~\href{https://github.com/Catrobat/Catroid/wiki/Workflow}{workflow} and \href{https://github.com/Catrobat/Catroid/wiki/Creating-a-pull-request}{Pull Requests}, and \href{https://jenkins.catrob.at/job/Catroid/}{Continuous Integration}. The codebase is far more complex than the Kiwix Android apps and the app is significantly richer in terms of the features and functionality~\citep{mueller2019_pocketcode}.

\subsection{Catrobat: Experiences of using mobile analytics}
The project had already incorporated Fabric Crashlytics into the Pocket Code Android app. %TODO confirm when and revise accordingly.
For their apps in Google Play they also had Google Play Console with Android Vitals. They did not appear to use either source of mobile analytics materially in their software development practices, however they were aware of the ongoing high crash rate for the Pocket Code app. %TODO check through their JIRA history for signs of them using either mobile analytics tool as a source of issues that they wanted to address.

\subsection{Catrobat: data collected and methods used for collection}
The project team provided access to Google Play Console for all their Android apps and also to their Fabric Crashlytics account. They also provided access to their JIRA and Jenkins systems (read access to both system is public). Their codebases are all public and available as opensource. The majority of the data for this case study is public, in JIRA tickets and in the codebase for Pocket Code. Outputs from the two mobile analytics tools were captured interactively and using vitals scraper for Google Play Console with Android Vitals. There are some email communications and similarly various handwritten field notes in notebooks.


\begin{table}
    \centering
    \footnotesize
    \tabcolsep=0.12cm
    \begin{tabular}{p{2.4cm}p{2.4cm}rp{2.4cm}p{3cm}p{2.5cm}}
        Data Source & Records & Volumes & Analysis method & Contribution & Remarks \\
        \toprule
         Pre-study interviews & contemporaneous notes\footnotemark & 3 & Ask the app devs & Set initial context, the baseline, and scope &  \\
         Mid-study communications with developers & GMail & 10\textsuperscript{1} & Ask the app devs & case-study related updates and planning &  \\
         Analytics tools \& artefacts & Interactive screenshots \& Vitals-scraper outputs &10\textsuperscript{1} & Sensemaking &  &  \\
         Development artefacts & Issues & 20+ & Observation and Analysis & & \\
         Field notes & various & 10\textsuperscript{1} & Observation and Analysis & & \\
         Development artefacts & various\footnotemark & 10\textsuperscript{1} & Field experiment, sensebuilding, sensemaking & & \\
         \bottomrule
    \end{tabular}
    \caption{Catrobat: data sources}
    \label{tab:catrobat-data-sources}
\end{table}

\footnotetext{These are opensourced and available online \url{https://github.com/julianharty/testing-with-analytics-workshop/}.}

\subsection{Catrobat: Intervention}
The key intervention was organise a weekend hackathon with an open invitation for any of the extended development team to participate. During day 1 of the hackathon, after informal introductions and a discussion about the aims of the hackathon, the next task was to create tickets in JIRA for the top 10 crash clusters and the top 10 ANR clusters as reported by Android Vitals. These were reported in JIRA during the first hour of the hackathon, the complete set are available online at \url{https://jira.catrob.at/browse/CATROID-418?jql=labels\%20\%3D\%20hackathon-2019}. 

The participants, in ones or twos, selected one of these tickets and worked on it. They then selected another ticket and worked on that one. They continued for approximately 5 hours until late afternoon that day. The event closed with a communal meal at a local pizzeria. The participants chose not to continue with day 2 of the hackathon (which was on the Sunday), instead they preferred to work on the issues during the normal working week (Monday to Friday). Several of them did so and continued to work on various tickets raised in the hackathon. The project team made two related releases of the Pocket Code Android app, with cumulative fixes in these releases.

\subsection{Catrobat: Outcomes for the project}
A group of six members of the Catrobat development team were able to usefully address various causes of the most prevalent failures of the Pocket Code app in production. 

\subsection{Catrobat: Contributions to the research}
TBC\pending{Add forward links when the relevant material has been included.}.

\subsection*{Catrobat: Wish list}
{\small
\begin{itemize}
    \itemsep0em
    \item Ask why Pocket Paint is on F-Droid~\url{https://f-droid.org/en/packages/org.catrobat.paintroid/} but not Pocket Code.
    \item It'd be helpful to re-establish communications with the project team in order to follow up on the results of the hackathon and on their current practices. I can also analyse their issues database to see whether they're actively using mobile analytics.
    \item Check whether they use code coverage measures and if so, what the numbers are.
    \item Extension work: it'd be interesting to apply \url{https://luiscruz.github.io/android_test_inspector/} to the project's apps.
    \item \textbf{Where should I write up the hackathon?} here? or in the next few chapters?
    \item Add results from analysing the binaries of the apps with exodus-privacy. Pocket Code \url{https://reports.exodus-privacy.eu.org/en/reports/search/org.catrobat.catroid/} 2 trackers and 16 permissions. Pocket Paint \url{https://reports.exodus-privacy.eu.org/en/reports/org.catrobat.paintroid/latest/} 0 trackers and 4 permissions.
\end{itemize}
}  % end \small

\clearpage

%===================================================================

\section{App-centric: C1}~\label{case-study-overview-C1}
% A couple of sentences to introduce them

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\textit{Confidential} \\
       Google Play Home & \textit{Confidential} \\
       Founded & \textit{Confidential} \\
       Business Domain & A high tech corporation \\
       Business type & An international company \\
       Technologies  & \textit{Confidential} \\
       Source code  &Closed. \\
       Analytics used by team & Microsoft App Center, other commercial products, proprietary code, and Google Play Console. \\
       Development Practices & Multiple teams working on the Android app. \\
       \midrule
       User base & 1,000,000's for the Android app \\
       Installations & 1,000,000's for the Android app \\
       \midrule
       Research methods &Consultant. \\
       Analytics collected &App Center, Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Additional Analytics and logs, details are confidential. \\
       Active period & Q4 2020 - Q2 2021 \\
       \bottomrule
    \end{tabular}
    \caption{Case Study key facts: C1}
    \label{tab:blank_case_study_anaytics_overview}
\end{table}
}

\subsection{C1: Background - How the case study came about}
The researcher accepted a consulting engagement with the corporation and was asked to assist one of their key projects. This project included an Android app, online APIs developed by the larger project team, and other apps, systems and services. It also incorporated other internal systems, APIs, and services provided by other development teams. 

Owing to confidentially and other contractual obligations details have been removed from this case study any examples are independently able to be corroborated. 


\subsection{C1: App-centric case study procedure}
{\small
\begin{enumerate}
    \itemsep0em
    \item Exploration and selection: the company engaged me to jointly improve one of the critical Android apps as part of a wider brief. At the time the Android app had millions of users.
    \item Engagement: details of the project and the work are confidential. Access was provided to source code and other development and analytics artefacts.
    \item The action research stage: direct, remote engagement working-from-home using commercially available collaboration tools.
    \item \textit{Post-hoc} analysis: access to the materials was available after the action research stage and evaluated both for the project team and for research purposes.
    \item Wrap-up: access to the systems and artefacts are no longer available. A summary of the findings and results were provided to senior management.
    \item Publication: not applicable. Several non-confidential examples are available as opensource projects which can also be used to support the research.
\end{enumerate}
}


\subsection{C1: Development microcosm}
The overall project team comprised over 100 people working directly on the product. Developers worked in a matrixed organisation~\citep[describes matrix organisations in detail]{stuckenbruck1979_the_matrix_organization}. Multiple groups of developers worked on the Android app. 

\subsection{C1: Experiences of using mobile analytics}
The project included multiple mobile analytics services integrated into their apps, including the Android app. However the development teams seldom appeared to use them proactively. 


\subsection{C1: Data collected and methods used for collection}
The data was collected contemporaneously during the consulting engagement and subsequently. Details cannot be provided here nonetheless the methods described in the Methodology chapter were used from a research perspective. Extensive field notes were made contemporaneously in addition to contributions to development artefacts. 

\subsection{C1: Intervention}
Worked with several teams, including those working on the Android app in particular, to reduce the crash and ANR rates for the app beyond a phased two-stage set of improvements (which were achieved using a combination of Google Play Console with Android Vitals as the primary source and measure and Microsoft App Center to augment, corroborate, and provide inter-tool-comparisons).

\subsection{C1: Outcomes for the company}
Confidential.

\subsection{C1: Contributions to the research}
\textbf{TBD} as I'm not \pending{Add forward links when the relevant material has been included.}.

\begin{enumerate}
    \item Excessive ANRs
    \item Excessive Crash Rate
    \item Gaps in understanding and gaps in testing of changes and generally of networking code increase crash rate several fold
    \item Problems could have ameliorated using Release Management reports
    \item Concerted focus to address native memory leaks that caused some of the crashes
    \item Code written to reproduce the networking errors that led to the crashes, followed by fixes to the underlying code covered adequately by automated tests, bring excessive crash rate under control.
    \item Majority of ANRs came from another project team's SDK, when the new SDK was integrated and a new release launched, the ANRs were materially improved. 
    \item Other crashes also addressed leading to further improvements.
    \item Automated build pipelines and implementation of code-quality analysis also help identify potential sources of failures (but signal to noise ratio was low).
\end{enumerate}

Discuss the success factors, what led to the material improvements, and also the sorts of things that led to unexpected increases in failures. Also discuss the utility of the release management reports and of taking action accordingly. Possibly also discuss the value in separating pre-release and post-release sources of data, versioning of the releases, etc.

\subsection*{C1: Wish list}
{\small

\begin{itemize}
    \item NB: it is not practical to publish the results of analysing the app binary with exodus-privacy as doing so may leak additional clues about the app and therefore the project. Check the contract.
    \item Seek a pertinent example of using automated tests for OkHttp.
\end{itemize}
}

\clearpage

%===================================================================

\section{Augmenting the app-centric case studies: field experiments}~\label{section-field-experiments-to-augment-app-centric-case-studies}
The app-centric case studies provided various vectors into a rich and complex area, however as they were all for real world apps in production there were many aspects that did not occur during any of these case studies. During the research there were various field experiments incorporated into the research. These are broadly in three areas:

\begin{enumerate}
    \itemsep0em
    \item Creating small experiments in the form of Android apps that exercised at least one mobile analytics service (Section \ref{section-small-experimental-android-apps}).
    \item Contributing to opensource mobile analytics projects (Section \ref{section-contributions-to-opensource-mobile-analytics-projects}).
    \item Research into logging performed by Android app developers and the development of software utilities to further that research (Section \ref{section-android-log-centric-experiments}). 
\end{enumerate}

These are followed by research into analysis of the source code of 107 Android apps to learn how developers use Firebase Analytics, more details in Section \ref{section-sourcecode-analysis-to-augment-app-centric-case-studies}.

\subsection{Dynamic tests to increase coverage of mobile analytics services}~\label{section-small-experimental-android-apps}
Various tests were performed to augment the app-centric case studies. The tests were packaged as several, small, experimental Android apps; they are not currently intended to go into general release.

\begin{itemize}
    \itemsep0em
    \item zipternet: \url{https://github.com/ISNIT0/zipternet}
    \item idot: \url{https://github.com/commercetest/idot} (access currently available upon request)
    \item AndroidCrashDummy: \url{https://github.com/ISNIT0/AndroidCrashDummy}
\end{itemize}

\subsection{Contributions to opensource mobile analytics projects}~\label{section-contributions-to-opensource-mobile-analytics-projects}
Projects that are opensourced are not necessarily easy to contribute to, there may be various hurdles and sufficient delays to dissuade the majority of developers from actually contributing to those projects. These field experiments were opportunistic in that they emerged as part of the reset of the research, nonetheless they are realistic as they included real-world improvements to those mobile analytics projects and the respective development teams reviewed and approved the contributions.

\begin{itemize}
    \itemsep0em
    \item PostHog: Two commits to improve the documentation \url{https://github.com/PostHog/posthog.com/commits?author=julianharty}.
    \item Sentry: Improved the onboarding documentation \url{https://github.com/getsentry/sentry-docs/commits?author=julianharty}.
\end{itemize}


\subsection{Android log-centric experiments}~\label{section-android-log-centric-experiments}
Mobile analytics provides mechanisms developers can use to perform implicit and explicit logging where the logs are generated at runtime when the app is being used. This section provides an overview of the log-centric experiments and their related opensource projects; and the next section includes analysis of 107 opensource Android apps that use Firebase Analytics for logging. (\secref{section-sourcecode-analysis-to-augment-app-centric-case-studies}). 

The experiments extracted Android logging statements and then analysed them. This work was complemented with creating Assert statements that automated tests could use to check whether expected log messages had been emitted into the Android log.

The related opensource projects are:
\begin{itemize}
    \itemsep0em
    \item Automated tests for Android log messages: \url{https://github.com/ISNIT0/AndroidLogAssert}
    \item Log Searcher \url{https://github.com/ISNIT0/log-searcher}
    \item Logcat filter and analysis tool: \url{https://github.com/ISNIT0/logcat-filter}
    \item Log complexity comparison: \url{https://github.com/ISNIT0/log-complexity-comparison}
\end{itemize}

\clearpage

%===================================================================
\section{Augmenting the app-centric case studies: sourcecode analysis}~\label{section-sourcecode-analysis-to-augment-app-centric-case-studies}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Julian to continue from here!!!!
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


Sections \ref{case-study-overview-gtaf} to \ref{case-study-overview-moonpig} presents four app-centric case studies where the developers were asked of their experiences of using mobile analytics. This work complemented that research by investigating the source code of 107 opensource projects for active Android apps where the source code was freely available on GitHub. 

What these 107 projects had in common was they used recent releases of Firebase Analytics. 50 of these simply initialised the SDK and did not include any custom calls to the SDK, the remaining 57 did make custom calls. The analysis of the code was jointly performed with an international group of researchers and published in \citet{harty2021_logging_practices_with_mobile_analytics}. One of these 57 projects, Smartnavi (see Section \ref{case-study-overview-smartnavi}), also became an app-centric case study in that the developer was interviewed about their use of mobile analytics. 

\subsection{Source code analysis: wish list}
{\small
\begin{itemize}
    \item Of the 107 projects, find out which also used any form of crash analytics. This information would help provide insights into how many combined in-app analytics with crash reporting and therefore analysis of reliability/stability issues (the core of this thesis in terms of analytics).
\end{itemize}
}
\clearpage

%===================================================================
\section{Tool-centric: Crashlytics}~\label{case-study-overview-crashlytics}
Crashlytics grew from a group of developers who wanted to scratch an itch~\citep{chang2015_how_six_people_built_crashlytics} into a product that first Twitter and then Google acquired as it became increasingly popular~\citep{___answersblog_2015_june_update}. Like many projects and products it morphed over the years and in 2020 Google completed the integration of Crashlytics into Firebase and removed support for older versions of the SDK (which had some knock-on effects in terms of privacy and what the reports contain).

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://fabric.io/} \\
       Founded & 2012 \\
       Business Domain & Crash reporting and analytics for mobile apps. \\
       Source code  & A subset is opensource \url{https://firebaseopensource.com/projects/firebase/firebase-android-sdk/readme/} \\
       \midrule
       User base & 1,000,000's for their analytics\footnotemark \\ %
       Installations & 100,000,000+ for the Android analytics \\ %Assuming 50% of 1B+ in 2015 https://web.archive.org/web/20160429221552/https://fabric.io/blog/milestone-achieved-one-billion-devices/
       \midrule
       Research methods &Grey Data, Grey Literature, analytics tools \& artefacts, field notes. \\
       Analytics collected &Fabric Crashlytics and Firebase Crashlytics reports. \\
       Research software & None applicable. \\
       Additional data collected &N/A. \\
       Active period & Q3 2019 to Q2 2020. \\
       Relevant app-centric case studies & Catrobat, Smartnavi. \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Crashlytics}
    \label{tab:blank_case_study_anaytics_overview}
\end{table}
}

\footnotetext{Based on a claim in 2015 \url{https://blog.twitter.com/developer/en_us/a/2015/crashlytics-now-serving-over-1-million-apps} with the assumptions: Android apps were a significant portion, the mean ratio of apps to developers is less than 5, the overall use has increased since 2015. Similar estimates are used to determine the installations from \url{https://blog.twitter.com/developer/en_us/a/2015/fabric-leading-the-sdk-market-in-performance-and-mobile-analytics}. The true figures are hard to ascertain as Google have integrated Crashlytics into Firebase.}
% See also https://web.archive.org/web/20160429221552/https://fabric.io/blog/milestone-achieved-one-billion-devices/

\subsection{Crashlytics: Background - How the case study came about}
The primary source of this case study is via the Catrobat case study where the development team were using Fabric Crashlytics in their flagship Pocket Code Android app. Crashlytics also surfaced in several of the developer interviews, and in source code for various opensource projects. Furthermore the researcher has been aware of Crashlytics through his professional work since at least 2015.

\subsection{Crashlytics: Experiences of using mobile analytics}
The action research came from observing, analysing, and using Crashlytics during the Catrobat case study. We used the legacy Fabric user interface for approximately six months and then transitioned to the Firebase Analytics user interface for the reporting. The app continued to use the Fabric version of the Crashlytics SDK for the duration of the case study. In preparation for the workshop in Poland, scheduled on \nth{28} February 2020, the project also chose to incorporate Firebase Analytics to both the Android and iOS Pocket Code apps. On discovering that Firebase included demographic data the project leadership decided \emph{not} to migrate to the Firebase Crashlytics SDK and not to further the use of Firebase Analytics in order to protect the end users' privacy. Many of the end users are minors who are school children and the project team was concerned that any use of in-app mobile analytics would need to be very carefully considered and weighed in terms of the impact.

\subsection{Crashlytics: Data collected and methods used for collection}
The majority of the data collected was done so interactively through using the various reporting user interfaces provided by Fabric and Firebase. Additional data was collected though Grey Data and Grey Literature searches and through analysis of development artefacts.

\subsection{Crashlytics: Contributions to the research and where they are located in the rest of this thesis}
As ever at this stage, TBC once more of the next three chapters have been completed.

%\subsection*{Crashlytics: Wish list}
%{\small}

\clearpage

%===================================================================
\section{Tool-centric: Firebase Analytics} 
Firebase was launched in 2012 \url{https://en.wikipedia.org/wiki/Firebase}, Firebase Analytics was launched in 2016 \url{https://firebase.googleblog.com/2016/05/firebase-expands-to-become-unified-app-platform.html}. Various industry sources concur that Firebase Analytics is the most popular mobile analytics library and in well over 50\% of Android apps, for example exodus privacy states 55\% of the Android apps it has analysed have Firebase Analytics~\footnote{\url{https://reports.exodus-privacy.eu.org/en/trackers/49/}}, while AppBrain states it's in 82.88\% of Android apps and an astonishing 99.58\% of installs of new apps~\citep{appbrain2021_firebase}. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://firebase.google.com/products/analytics} \\
       Founded & 2016\footnotemark \\
       Business Domain & Product analytics. \\
       Source code  & A subset is opensource \url{https://firebaseopensource.com/projects/firebase/firebase-android-sdk/readme/} \\
       \midrule
       User base & 1,000,000's for their analytics \\
       Installations & 2,000,000,000+ for the Android analytics\footnotemark \\
       \midrule
       Research methods &Ask the app devs, source code analysis, observation and analysis, sensemaking. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails. \\
       Active period & 2019 to 2020 \\
       Relevant app-centric case studies & Moodspace, Moonpig, Smartnavi.\\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Firebase Analytics}
    \label{tab:firebase_anaytics_overview}
\end{table}
}

\footnotetext{Covered in the opening paragraph of this section.}
\footnotetext{Extrapolated from `82.88\% of installs'~\citep{appbrain2021_firebase} and `over 2.5 billion active Android devices'~\citep{androiddevelopersblog2019_unlock_your_creativity_2_5_billion}, and assuming there are at least the same quantity of active Android devices in January 2022.}

\subsection{Firebase Analytics: Background - How the case study came about}
The case study emerged from developer interviews as part of several of the app-centric case studies. Subsequent joint research was performed in 2020 to analyse 107 opensource Android apps on GitHub that included Firebase Analytics in their codebase~\citep{harty2021_logging_practices_with_mobile_analytics}.

\subsection{Firebase Analytics: Experiences of using mobile analytics}
The experiences are as reported and/or demonstrated by developers interviewed in the case studies, and as observed in opensource repositories for Android apps.

\subsection{Firebase Analytics: Data collected and methods used for collection}
Screenshots provided by developers and sent to the researcher by email. Source code was cloned from the respective opensource repos on GitHub and analysed using several tools including Google Sheets, Android Studio, and srcML (detailed in \citet{harty2021_logging_practices_with_mobile_analytics}).

\subsection{Firebase Analytics: Contributions to the research and where they are located in the rest of this thesis}
TBC.

%\subsection*{Firebase Analytics: Wish list}

\clearpage

%===================================================================

\section{Tool-centric: Google Play Console with Android Vitals}~\label{case-study-overview-google-play-console-with-android-vitals}
Google Play Console incorporating Android Vitals is probably the largest composite source of analytics for mobile apps on Earth as it reports on up to several billion Android devices for the apps on that device~\footnote{Google does not publish details of how many devices have opted-out of the data being gathered, nor the exact inclusion and exclusion criteria for which apps are reported on so it is hard to determine the overall volumes. Google also owns the most popular in-app mobile analytics service, Firebase. In turn Firebase incorporates a movable feast of analytics offerings including Crashlytics, Google Analytics and Firebase Analytics. These two are almost certainly the top two analytics services on Earth for mobile apps.}.

\newthought{Some history}
In 2010, Google announced an service that appears to be the first version of what became Android Vitals where users could submit crash reports that developers would receive in their Android Market account~\citep{androiddevelopersblog2010_android_error_crash_reports}. Google continued to evolve their analytics which included providing developers a mechanism to download crash and ANR reports from 2015~\citep{androiddevelopers2015_integrate_play_data_into_your_workflow_with_data_exports} until 2018~\citep{google_play_download_and_export_monthly_reports}. Google launched Android Vitals in 2017~\citep{androiddevelopersblog2017_android_vitals_increase_engagement_etc}.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://play.google.com/console/about/} \\
       Service origin & 2010\footnotemark \\
       Business Domain & Platform ecosystem \\
       Business type & For profit corporation \\
       Technologies  & Android \\
       Source code  & The Android codebase is opensource, the Google applications and libraries are closed and not available for research. Elements of the on device data collection code appears to be public.\\
       \midrule
       User base & 1,000,000's developers have access to the analytics \\
       Installations & 2,500,000,000+ for the Android analytics~\citep{androiddevelopersblog2019_unlock_your_creativity_2_5_billion} \\ 
       \midrule
       Research methods &Sensemaking, sensebuilding, feedback mechanisms, and evaluation through action research. \\
       Analytics collected &Google Play Console with Android Vitals \\
       Research software & Vitals Scraper. \\
       Additional data collected &Interview notes and emails with both app developers and the development team of the tool. \\
       Active period & 2017 to 2022 \\
       Relevant app-centric case studies & All of them. \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Google Play Console with Android Vitals}
    \label{tab:google_play_console_with_android_vitals_anaytics_overview}
\end{table}
}

\footnotetext{The history and rationale for this date is covered in the introduction to this section.}


\subsection{Google Play Console with Android Vitals: Background - How the case study came about}
The research into Google Play Console with Android Vitals predates the app-centric case studies. It is one of the \emph{de-facto} mobile analytics tools available to Android developers who release their apps in the Google Play ecosystem. Each of the app-centric case studies provided material related to this service that Google provides free of additional charge~\footnote{There is a one-off registration fee for creating a developer account for Google Play \url{https://support.google.com/googleplay/android-developer/answer/6112435}. Many developers can be added to that account in order to use it and developers can be added to more than one Google Play developer account.}.

\subsection{Google Play Console with Android Vitals: Experiences of using mobile analytics}
Working with Google Play Console and with Android Vitals permeates this research, the experiences include using it directly, working with copies of the outputs from the app-case studies and other Grey Data and Grey Literature sources, analysing source code for candidate elements of the tool, and discussions with the development team for this and other mobile analytics tools.

\subsection{Google Play Console with Android Vitals: Data collected and methods used for collection}
The data included screenshots, extracts, and rekeying of contents from the interactive use of the mobile analytics service, interactive downloads of various monthly reports provided by the service, automated collection of screenshots and textual content through the use of Vitals Scraper, and material provided by interviewees who emailed screenshots and provided extracts. Source code was located through various searches online and through Grey Data, particularly through StackOverflow. 


\subsection{Google Play Console with Android Vitals: Contributions to the research and where they are located in the rest of this thesis}
TBC - likely to be in all the next three chapters and also elsewhere.

\subsection*{Google Play Console with Android Vitals: Wish list}
{\small
\begin{itemize}
    \item Reconnect with the current development team for Android Vitals and apprise them of my recent research findings.
\end{itemize}
}

\clearpage

%===================================================================

\section{Tool-centric: Iteratively with Amplitude}~\label{case-study-overview-iteratively-with-amplitude}
Two founders jointly created Iteratively and raised seed funding for the startup. Their focus was to develop tools and approaches to help product managers, developers, and analysts to have a single coherent and trustworthy data analytics pipeline from design to use. The startup was acquired by Amplitude who successfully listed on Nasdaq several months later, in 2021. 
% https://www.iposcoop.com/ipo/amplitude-inc/
% https://techcrunch.com/2021/09/29/what-amplitudes-direct-listing-says-about-ipo-pops-and-how-startups-can-avoid-them

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://iterative.ly/} and \url{https://amplitude.com/} \\
       Founded & 2019 \\ % https://www.crunchbase.com/organization/iteratively
       Business Domain & Software and services to help development teams capture clean, useful data to generate business insights. \\ % paraphrased from https://iterative.ly/about
       Business type & Startup, since acquired, now part of Amplitude, that went Public in 2021. \\
       Technologies  & SDK generation tools \\
       & Build and Integration tools, data validation tools for software analytics libraries. \\
       Source code  &Closed and not available for research. \\
       \midrule
       User base & 10\textsuperscript{1} companies used their analytics pre acquisition, unknown post integration. \\
       Installations & Not available.  \\
       \midrule
       Research methods &In person interviews, Grey Literature, email discussions, analysis of their Android SDK binary, and field experiment which led to observation and analysis. \\
       Analytics collected & Screenshots of the Iteratively service in use and of Amplitude. \\
       Research software & None applicable. \\
       Additional data collected &Discussions with one of their development team. \\
       Active period & May 2020 to 2022 \\
       Relevant app-centric case studies & None, it is part of the testing mobile analytics research. \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Iteratively with Amplitude}
    \label{tab:iteratively_with_amplitude_anaytics_overview}
\end{table}
}

\subsection{Iteratively with Amplitude: Background - How the case study came about}
Patrick Thompson, Iteratively's CEO, contacted the researcher in May 2020. After an opening call with both founders, they were keen to share their experiences and make their tools and research available. The CEO confirmed both verbally and by email I was free to reuse their materials including for research purposes. They also accepted contributions to their materials and research, these were freely given and without charge or obligation. I introduced them to someone I worked with who they subsequently hired and they gave both of us permission to freely discuss details of their products, software, and research, again this is without charge or obligation, nonetheless there is an implicit moral obligation to protect sensitive material so shared and which is being upheld during this research.

\subsection{Iteratively with Amplitude: Experiences of using mobile analytics}
Iteratively provided an online data design tool to define a schema for mobile analytics and another tool to configure the SDK to send the data to various third-party mobile analytics services via that service's respective SDK. They also provided software that developers can add to their build scripts in order to validate the app has the schema adequately implemented. The schema is versioned and changes to the schema automatically receive a higher version number.

Iteratively's tools were used to add mobile analytics reporting to a small Android app, called IDot developed as part of this research. The app is due to be opensourced and will be available at \url{https://github.com/commercetest/idot}. Iteratively was configured to use Amplitude as the destination mobile analytics service. We also developed a custom `crash' message using the schema tool and implemented the necessary code to trigger this in the Android app.

During the action research period Iteratively's tools were integrated into the Amplitude products and services where they also made other changes to these products and services. The research is, therefore, a snapshot of the services that were available at the time.

\subsection{Iteratively with Amplitude: Data collected and methods used for collection}
Field notes were recorded contemporaneously during the various calls and discussions with the founder and with the developer, in addition there are various email (and WhatsApp) discussions. Field notes were also made, together with screenshots, when using the tools and their online reports. The source code for the Android app is also a form of data, and is on GitHub. It is available: currently on request. It will be opensourced at \url{https://github.com/commercetest/idot}. Google Play Console's Pre-launch reports have also been collected as screenshots using a web browser.

\subsection{Iteratively with Amplitude: Contributions to the research and where they are located in the rest of this thesis}
TBC.

\subsection*{Iteratively with Amplitude: Wish list}
{\small
\begin{itemize}
    \item Consider asking Patrick, the ex-CEO, for summary data re their customer and the deployment base. 
    \item Ditto, ask for any customers who may be willing to share their experiences of using the iteratively tooling. (requested on \nth{7} Jan 2022)
    \item Clean up the project to remove authentication details then prepare and opensource it.
\end{itemize}
}

\clearpage

%===================================================================

\section{Tool-centric: Microsoft App Center}~\label{case-study-overview-microsoft-app-center}
App Center combines various tools and utilities and includes in-app mobile analytics and crash reporting. The crash reporting aspect probably started as part of the HockeyApp SDK, Microsoft acquired HockeyApp in late 2016~\footnote{\href{https://web.archive.org/web/20150702124106/http://blogs.msdn.com/b/somasegar/archive/2014/12/11/microsoft-acquires-hockeyapp-leading-mobile-crash-analytics-and-beta-distribution-service-for-ios-android-and-windows-phone.aspx}{http://blogs.msdn.com/b/somasegar/archive/2014/12/11/microsoft-acquires-hockeyapp-leading-mobile-crash-analytics-and-beta-distribution-service-for-ios-android-and-windows-phone.aspx} (via the Web Archive project)}. The earliest mention of Crash reporting in HockeyApp's opensource Android SDK is in 2014~\footnote{\href{https://github.com/bitstadium/HockeySDK-Android/commit/3ccd53c44da791806720604b02d358de66ecbf6a}{github.com/bitstadium/HockeySDK-Android/commit/3ccd53c44da791806720604b02d358de66ecbf6a}.}

There is an interesting related opensource project \url{https://github.com/bitstadium/CrashProbe} that also had a related website called crashprobe.com~\footnote{See \url{https://web.archive.org/web/20161124205240/http://www.crashprobe.com/} for an example from 2016} which compared the performance of various crash reporting SDKs. As it was opensourced developers of several of these SDKs used it and submitted both source code and results. An example of the report from April 2017 is cached by the web archive \url{https://web.archive.org/web/20170412015831/http://www.crashprobe.com/ios/} which compares the results of 6 iOS crash reporting tools. 

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://appcenter.ms/} \\
       Launched as Microsoft App Center & 2017 \\ % https://www.dotnetcurry.com/xamarin/1435/visual-studio-app-center
       Business Domain & IDE and related online services that includes free and paid for services. \\
       Source code for the online service  &Closed and not available for research \\
       Source code for the Android SDK & \url{https://github.com/microsoft/appcenter-sdk-android} \\
       Source code for a sample Android app & \url{https://github.com/microsoft/appcenter-sampleapp-android} \\
       And other repositories listed at & \url{https://github.com/Microsoft/appcenter/wiki/Repositories} \\
       \midrule
       User base & 10\textsuperscript{4} developers estimated to use their analytics\footnotemark \\
       Installations & 1,000,000,000+ for the Android analytics \\
       \midrule
       Research methods & \\
       Analytics collected & \\
       Research software & None applicable. \\
       Additional data collected & \\
       Active period & March 2019 to Q2 2021 \\
       Relevant app-centric case studies & C1; and it is part of the testing mobile analytics research (see \secref{section-testing-mobile-analytics-tools-on-a-continuum}). \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Microsoft App Center}
    \label{tab:blank_case_study_anaytics_overview}
\end{table}
}

\footnotetext{As many of the customers are likely to be corporations with large development teams, the ratio is likely to be several developers have access to AppCenter per app. According to AppBrain the App Center SDK has been installed in over 10 thousand apps and those apps have been downloaded over 3 billion times by \nth{25} November 2020 and was in over 13 thousand apps and 30 billion downloads by \nth{16} July 2021. It is in \nth{8} place in the Analytics library category for Android apps. It's also in 6.24\% of top apps, partly as it's included in top Microsoft apps (Microsoft OneDrive, Excel and Word 1 billion+ per app, LinkedIn 500 million, Mirosoft Office 100 million, and Skype Beta 5 million). It's installed in 1.76\% of new apps and 0.24\% of new app installs (App data sourced from~\url{https://www.appbrain.com/stats/libraries/details/appcenter/visual-studio-app-center})}.

\subsection{Microsoft App Center: Background - How the case study came about}
Microsoft App Center was integrated into several field experiment Android apps in 2019. It was also one of the main mobile analytics tools used in the commercial app-centric case study which extended the initial findings from the field experiments into mission-critical and real-world use of the service at scale based on an active end-userbase of millions of people.

\subsection{Microsoft App Center: Experiences of using mobile analytics}
Microsoft App Center was used directly for crash and error reporting. It was used interactively and through the reporting API Microsoft provides. For the commercial case study major issues were manually transferred to the project's bug tracking service and the bugs were actively managed and the underlying issues were generally addressed. Screenshots and pertinent statistics from App Center were entered into the bug tracking service as only a subset of the overall project team had direct access to any of the mobile analytics services. The project used the error reporting (non-fatal errors) extensively to analyse various operational aspects of the service the app provided in conjunction with the internal server-side APIs and services.

Microsoft App Center was the preferred mobile analytics service by the development team, partly as it included a UI they could use to link bug tracking to pertinent crashes and errors.

\subsection{Microsoft App Center: Data collected and methods used for collection}
Screenshots and data obtained through the reporting APIs were collected as part of the assignment. In tandem field notes, email, and other collaboration tools were used on an ongoing basis during the action research period. Issues reported by others were also observed and analysed, for example in terms of how the issues were tracked, the changes to the app source code, and the subsequent testing of the potential fixes.

Grey Literature describes using Hockey App for crash reporting in iOS~\citep{birani2016_hockey_app_for_crash_reporting}, the concepts of how to integrate and test crash reporting for Androids was similar.

\subsection{Microsoft App Center: Contributions to the research and where they are located in the rest of this thesis}
TBC.

\subsection*{Microsoft App Center: Wish list}
{\small
\begin{itemize}
    \item Ideally permission to directly use material from the relevant case study.
    \item Alternately, examples from a similarly large-scale project and app.
\end{itemize}
}
\clearpage

%===================================================================

\section{Tool-centric: Sentry}~\label{case-study-overview-sentry}
Sentry is a a good example of a mature investment-funded purpose-built company who provide various analytics services to their customers. They are one of several who have made their software freely available as opensource (others include Count.ly and PostHog). Developers incorporate Sentry's SDKs and/or APIs into their software and can either self-host the necessary server-side software or use the services provided by Sentry. There is a free tier which has basic capabilities, and paid-for options.

{\renewcommand{\arraystretch}{0.8}% Tighter
\begin{table}[htbp!]
    \centering
    \small
    \setlength{\tabcolsep}{6pt}
    \begin{tabular}{lp{9cm}}
       % Question &Answer  \\
       \toprule
       Website &\url{https://sentry.io/welcome/} \\
       Founded & 2011 \\ % https://www.linkedin.com/company/getsentry/about/ and https://sentry.io/about/ states 10 years ago ...
       Business Domain & Software Performance Analytics \\
       Business type & Opensource code and paid for hosted services \\
       Technologies  & Multi-platform, \\
       & Client and Server codebases. \\
       Source code  & Opensource \url{https://github.com/getsentry} \\
       \midrule
       User base & 1,000,000's developers use their analytics~\citep{sentry_customers}  \\
       Installations & \( \geq 1\% \) for the Android analytics\footnotemark \\
       \midrule
       Research methods &Observation and Analysis, Field Experiment. \\
       Analytics collected &Interactive reports and automated emails. \\
       Research software & None applicable. \\
       Additional data collected &Interview notes and emails. \\
       Active period & Jan 2020 to Nov 2021 \\
       Relevant app-centric case studies & Local Halo; and it is part of the testing mobile analytics research (see \secref{section-testing-mobile-analytics-tools-on-a-continuum}). \\
       \bottomrule
    \end{tabular}
    \caption{Tool Centric Case Study key facts: Sentry}
    \label{tab:blank_case_study_anaytics_overview}
\end{table}
}

\footnotetext{\url{https://www.appbrain.com/stats/libraries/details/sentry/sentry}}


\subsection{Sentry: Background - How the case study came about}
One of the app centric case studies, LocalHalo (\secref{case-study-overview-localhalo}, uses Sentry and they provided access to their Sentry account. The access continued after the action research aspect of that case study and provided an ongoing view of the usage and the behaviours of that app, and the project's website, until November 2021 when pricing changes by Sentry meant my access ceased.

\subsection{Sentry: Experiences of using mobile analytics}
Sentry was integrated into Local Halo's cross-platform app (for Android and iOS). Local Halo used the free tier, \emph{i.e.} they did not pay for the service, and they enabled a second account to support this research.

The account was configured to send reports and alerts by email, the reports were also checked online. Their API was evaluated which led to submitting some proposed improvements to their documentation in the form of a Pull Request, this was reviewed, improved, and then accepted~\footnote{\url{https://github.com/getsentry/sentry-docs/commits?author=julianharty}}.

\subsection{Sentry: Data collected and methods used for collection}

Data was collected interactively, via automated emails, and using their API service.

\subsection{Sentry: Contributions to the research and where they are located in the rest of this thesis}
TBC when the next 3 chapters are written.

\subsection*{Sentry: Wish list}
{\small
\begin{itemize}
    \item Ongoing access to the Local Halo data (not urgent or important, just useful).
\end{itemize}
}


\clearpage

%===================================================================

\section{Miscellaneous sources of minor contributions}~\label{section-case-study-misc-contributions}

These include a project, EduVPN, and six more mobile analytics software tools and associated services: AppPulse Mobile, AppSee, Azetone, Countly, MixPanel, PostHog, and SegmentIO. For the first three of these I worked indirectly with the development team, evaluated the product and service and provided bug reports and other feedback. These engagements were part of my consulting work with and for what became HP Enterprise (and subsequently was acquired by MicroFocus). Some material has been published in \citet{harty_aymer_playbook_2016}.

\begin{itemize}
    \item AppPulse Mobile: an innovative mobile analytics service that automatically instrumented Android apps during the build process of that app. The service provided crash and performance reporting. It was developed by HP, it is now owned by MicroFocus. 
    \item AppSee: the first of two `heatmapping' tools that included mobile analytics of the data collected by their in-app library. The company and their products were acquired and are no longer available.
    \item Azetone: the second of the two `heatmapping' tools. Their online presence indicates they continue to provide a similar product and service.
    \item Countly: one of the early opensource mobile analytics offerings, they offered a relatively simple complete end-to-end package with the client-side SDK and server.
    \item MixPanel: an early closed-source mobile analytics offering.
    \item SegmentIO: another long-term opensource mobile analytics offering, acquired in 2020 by Twilio. Their source code and issues database include various useful exemplary examples. 
\end{itemize}

\clearpage

%===================================================================

\section{Summary of the case studies overview}~\label{case-study-overview-summary}
This chapter covered a lot of ground. In summary the research includes learning how mobile analytics tools are used from the developers' perspective, some action research, software experiments, and analysis of Android apps that use the most popular mobile analytics service: Firebase Analytics. It then introduces tool centric case studies and finally miscellaneous additional sources of research material.

The next three chapters are a set and structured around the six perspectives. They provide findings aligned with three distinct focal points: first the processes used by app developers; second the products of their work, particularly in terms of improving the product artefacts. The third chapter in the set focuses on the mobile analytics tools and related services. Each chapter considers the status-quo and improvements to the status-quo. Sometimes they build on work presented in another of this set of chapters, for example they may cross-reference e.g. in their respective discussion section.

% Excluded from this chapter : the discussion with Sunil on a bank in Australia.